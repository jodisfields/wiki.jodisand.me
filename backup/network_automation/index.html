
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Personal Software Engineering Wiki">
      
      
        <meta name="author" content="Jodis Fields">
      
      
      
        <link rel="prev" href="../docker/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.6">
    
    
      
        <title>Network Automation with Python - Software Engineering Wiki</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.558e4712.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-869ZM94WZQ"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-869ZM94WZQ",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-869ZM94WZQ",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#network-automation-with-python" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Software Engineering Wiki" class="md-header__button md-logo" aria-label="Software Engineering Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 14.27 10.64 13A11.242 11.242 0 0 0 5 10.18v6.95c2.61.34 5 1.34 7 2.82 2-1.48 4.39-2.48 7-2.82v-6.95c-2.16.39-4.09 1.39-5.64 2.82M19 8.15c.65-.1 1.32-.15 2-.15v11c-3.5 0-6.64 1.35-9 3.54C9.64 20.35 6.5 19 3 19V8c.68 0 1.35.05 2 .15 2.69.41 5.1 1.63 7 3.39 1.9-1.76 4.31-2.98 7-3.39M12 6c.27 0 .5-.1.71-.29.19-.21.29-.44.29-.71s-.1-.5-.29-.71C12.5 4.11 12.27 4 12 4s-.5.11-.71.29c-.18.21-.29.45-.29.71s.11.5.29.71c.21.19.45.29.71.29m2.12 1.12a2.997 2.997 0 1 1-4.24-4.24 2.997 2.997 0 1 1 4.24 4.24Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Software Engineering Wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Network Automation with Python
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/jodisfields/wiki.jodisand.me" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    jodisfields/wiki.jodisand.me
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Software Engineering Wiki" class="md-nav__button md-logo" aria-label="Software Engineering Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 14.27 10.64 13A11.242 11.242 0 0 0 5 10.18v6.95c2.61.34 5 1.34 7 2.82 2-1.48 4.39-2.48 7-2.82v-6.95c-2.16.39-4.09 1.39-5.64 2.82M19 8.15c.65-.1 1.32-.15 2-.15v11c-3.5 0-6.64 1.35-9 3.54C9.64 20.35 6.5 19 3 19V8c.68 0 1.35.05 2 .15 2.69.41 5.1 1.63 7 3.39 1.9-1.76 4.31-2.98 7-3.39M12 6c.27 0 .5-.1.71-.29.19-.21.29-.44.29-.71s-.1-.5-.29-.71C12.5 4.11 12.27 4 12 4s-.5.11-.71.29c-.18.21-.29.45-.29.71s.11.5.29.71c.21.19.45.29.71.29m2.12 1.12a2.997 2.997 0 1 1-4.24-4.24 2.997 2.997 0 1 1 4.24 4.24Z"/></svg>

    </a>
    Software Engineering Wiki
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jodisfields/wiki.jodisand.me" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    jodisfields/wiki.jodisand.me
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../bash/" class="md-nav__link">
        Bash Oneliners
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../chatGPT/" class="md-nav__link">
        ChatGPT Prompts
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        Docker Cheatsheet
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Network Automation with Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Network Automation with Python
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-automation" class="md-nav__link">
    What is Automation?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-automate" class="md-nav__link">
    Why Automate?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements-to-run-the-scripts" class="md-nav__link">
    Requirements To Run The Scripts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting Started
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-a-local-development-environment" class="md-nav__link">
    Setting Up a Local Development Environment
  </a>
  
    <nav class="md-nav" aria-label="Setting Up a Local Development Environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-python" class="md-nav__link">
    Installing Python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-visual-studio-code" class="md-nav__link">
    Installing Visual Studio Code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-dependencies" class="md-nav__link">
    Installing Dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#figuring-out-what-to-automate" class="md-nav__link">
    Figuring Out What to Automate
  </a>
  
    <nav class="md-nav" aria-label="Figuring Out What to Automate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#open-source-tools" class="md-nav__link">
    Open-Source Tools
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-network-engineers-should-learn-python" class="md-nav__link">
    Why network engineers should learn Python?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-python-is-useful-in-networking" class="md-nav__link">
    How Python is useful in networking?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#learning-python-will-be-highly-useful-for-network-engineer" class="md-nav__link">
    Learning Python Will Be Highly Useful For Network Engineer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limitations-of-python" class="md-nav__link">
    Limitations of Python
  </a>
  
    <nav class="md-nav" aria-label="Limitations of Python">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#speed-isnt-pythons-strong-suit" class="md-nav__link">
    Speed isn’t Python’s strong suit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#high-memory-usage" class="md-nav__link">
    High memory usage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-python" class="md-nav__link">
    Why Python?
  </a>
  
    <nav class="md-nav" aria-label="Why Python?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#its-powerful" class="md-nav__link">
    It's Powerful
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-is-a-priority" class="md-nav__link">
    Security is a priority
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#large-community-and-high-developer-availability" class="md-nav__link">
    Large community and high developer availability
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#good-with-ai-and-ml-tasks" class="md-nav__link">
    Good with AI and ML tasks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handy-scripts-and-snippets" class="md-nav__link">
    Handy Scripts and Snippets
  </a>
  
    <nav class="md-nav" aria-label="Handy Scripts and Snippets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ssl-checker" class="md-nav__link">
    SSL Checker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#argument" class="md-nav__link">
    Argument:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#censored" class="md-nav__link">
    Censored?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quick-summary" class="md-nav__link">
    Quick Summary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-analyze" class="md-nav__link">
    Security Analyze
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-html-and-csv-output" class="md-nav__link">
    JSON, HTML and CSV Output
  </a>
  
    <nav class="md-nav" aria-label="JSON, HTML and CSV Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#as-a-python-module" class="md-nav__link">
    As a Python Module
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#netmiko-scripts-for-inspiration" class="md-nav__link">
    Netmiko Scripts for Inspiration
  </a>
  
    <nav class="md-nav" aria-label="Netmiko Scripts for Inspiration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connect-using-a-dictionary" class="md-nav__link">
    Connect using a dictionary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dictionary-with-a-context-manager" class="md-nav__link">
    Dictionary with a context manager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-mode" class="md-nav__link">
    Enable mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connecting-to-multiple-devices" class="md-nav__link">
    Connecting to multiple devices.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executing-show-command" class="md-nav__link">
    Executing show command.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adjusting-delay_factor" class="md-nav__link">
    Adjusting delay_factor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-global_delay_factor" class="md-nav__link">
    Using global_delay_factor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-textfsm" class="md-nav__link">
    Using TextFSM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-ttp" class="md-nav__link">
    Using TTP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-genie" class="md-nav__link">
    Using Genie
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling-commands-that-prompt-timing" class="md-nav__link">
    Handling commands that prompt (timing)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling-commands-that-prompt-expect_string" class="md-nav__link">
    Handling commands that prompt (expect_string)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-changes" class="md-nav__link">
    Configuration changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-changes-from-a-file" class="md-nav__link">
    Configuration changes from a file
  </a>
  
    <nav class="md-nav" aria-label="Configuration changes from a file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#netmiko-will-automatically-enter-and-exit-config-mode" class="md-nav__link">
    Netmiko will automatically enter and exit config mode.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-keys" class="md-nav__link">
    SSH keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-config-file" class="md-nav__link">
    SSH Config File
  </a>
  
    <nav class="md-nav" aria-label="SSH Config File">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contents-of-ssh_config-file" class="md-nav__link">
    Contents of 'ssh_config' file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-log" class="md-nav__link">
    Session log
  </a>
  
    <nav class="md-nav" aria-label="Session log">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contents-of-outputtxt-after-execution" class="md-nav__link">
    Contents of 'output.txt' after execution
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standard-logging" class="md-nav__link">
    Standard Logging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secure-copy" class="md-nav__link">
    Secure Copy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-detection-using-ssh" class="md-nav__link">
    Auto detection using SSH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-detection-using-snmpv2c" class="md-nav__link">
    Auto detection using SNMPv2c
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-detection-using-snmpv3" class="md-nav__link">
    Auto detection using SNMPv3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#terminal-server-and-redispatch" class="md-nav__link">
    Terminal server and redispatch
  </a>
  
    <nav class="md-nav" aria-label="Terminal server and redispatch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#output-from-execution-of-this-code-slightly-cleaned-up" class="md-nav__link">
    Output from execution of this code (slightly cleaned-up).
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#traditional-network-management" class="md-nav__link">
    Traditional Network Management
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automate-the-network-provisioning" class="md-nav__link">
    Automate the network provisioning
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-does-network-automation-work" class="md-nav__link">
    How Does Network Automation Work?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#benefits-of-network-automation" class="md-nav__link">
    Benefits of Network Automation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#best-practices-for-network-automation" class="md-nav__link">
    Best Practices for Network Automation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decide-what-to-automate" class="md-nav__link">
    Decide What to Automate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aim-for-low-code-network-automation" class="md-nav__link">
    Aim for Low-Code Network Automation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adopt-a-vendor-agnostic-approach" class="md-nav__link">
    Adopt a Vendor-Agnostic Approach
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integrate-with-other-tools-and-services" class="md-nav__link">
    Integrate with Other Tools and Services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automate-configuration" class="md-nav__link">
    Automate Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frequently-asked-questions" class="md-nav__link">
    Frequently Asked Questions
  </a>
  
    <nav class="md-nav" aria-label="Frequently Asked Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-an-sdn" class="md-nav__link">
    What is an SDN?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-a-cli" class="md-nav__link">
    What is a CLI?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-an-api" class="md-nav__link">
    What is an API?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-network-orchestration" class="md-nav__link">
    What is network orchestration?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-industries-can-benefit-the-most-from-network-automation" class="md-nav__link">
    What industries can benefit the most from network automation?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-are-the-top-companies-using-python" class="md-nav__link">
    What are the top companies using Python?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where-is-python-used" class="md-nav__link">
    Where is Python used?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-stable-is-python" class="md-nav__link">
    How stable is Python?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-network-automation" class="md-nav__link">
    What Is Network Automation?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scripts-vs-modules" class="md-nav__link">
    Scripts vs Modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whats-the-python-interpreter" class="md-nav__link">
    What’s the Python Interpreter?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-does-the-interpreter-work" class="md-nav__link">
    How Does the Interpreter Work?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-run-python-scripts-from-a-file-manager" class="md-nav__link">
    How to Run Python Scripts From a File Manager
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-automation" class="md-nav__link">
    What is Automation?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-automate" class="md-nav__link">
    Why Automate?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements-to-run-the-scripts" class="md-nav__link">
    Requirements To Run The Scripts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting Started
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-a-local-development-environment" class="md-nav__link">
    Setting Up a Local Development Environment
  </a>
  
    <nav class="md-nav" aria-label="Setting Up a Local Development Environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-python" class="md-nav__link">
    Installing Python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-visual-studio-code" class="md-nav__link">
    Installing Visual Studio Code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-dependencies" class="md-nav__link">
    Installing Dependencies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#figuring-out-what-to-automate" class="md-nav__link">
    Figuring Out What to Automate
  </a>
  
    <nav class="md-nav" aria-label="Figuring Out What to Automate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#open-source-tools" class="md-nav__link">
    Open-Source Tools
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-network-engineers-should-learn-python" class="md-nav__link">
    Why network engineers should learn Python?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-python-is-useful-in-networking" class="md-nav__link">
    How Python is useful in networking?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#learning-python-will-be-highly-useful-for-network-engineer" class="md-nav__link">
    Learning Python Will Be Highly Useful For Network Engineer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limitations-of-python" class="md-nav__link">
    Limitations of Python
  </a>
  
    <nav class="md-nav" aria-label="Limitations of Python">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#speed-isnt-pythons-strong-suit" class="md-nav__link">
    Speed isn’t Python’s strong suit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#high-memory-usage" class="md-nav__link">
    High memory usage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-python" class="md-nav__link">
    Why Python?
  </a>
  
    <nav class="md-nav" aria-label="Why Python?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#its-powerful" class="md-nav__link">
    It's Powerful
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-is-a-priority" class="md-nav__link">
    Security is a priority
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#large-community-and-high-developer-availability" class="md-nav__link">
    Large community and high developer availability
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#good-with-ai-and-ml-tasks" class="md-nav__link">
    Good with AI and ML tasks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handy-scripts-and-snippets" class="md-nav__link">
    Handy Scripts and Snippets
  </a>
  
    <nav class="md-nav" aria-label="Handy Scripts and Snippets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ssl-checker" class="md-nav__link">
    SSL Checker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#argument" class="md-nav__link">
    Argument:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#censored" class="md-nav__link">
    Censored?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quick-summary" class="md-nav__link">
    Quick Summary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-analyze" class="md-nav__link">
    Security Analyze
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-html-and-csv-output" class="md-nav__link">
    JSON, HTML and CSV Output
  </a>
  
    <nav class="md-nav" aria-label="JSON, HTML and CSV Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#as-a-python-module" class="md-nav__link">
    As a Python Module
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#netmiko-scripts-for-inspiration" class="md-nav__link">
    Netmiko Scripts for Inspiration
  </a>
  
    <nav class="md-nav" aria-label="Netmiko Scripts for Inspiration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connect-using-a-dictionary" class="md-nav__link">
    Connect using a dictionary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dictionary-with-a-context-manager" class="md-nav__link">
    Dictionary with a context manager
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-mode" class="md-nav__link">
    Enable mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connecting-to-multiple-devices" class="md-nav__link">
    Connecting to multiple devices.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executing-show-command" class="md-nav__link">
    Executing show command.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adjusting-delay_factor" class="md-nav__link">
    Adjusting delay_factor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-global_delay_factor" class="md-nav__link">
    Using global_delay_factor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-textfsm" class="md-nav__link">
    Using TextFSM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-ttp" class="md-nav__link">
    Using TTP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-genie" class="md-nav__link">
    Using Genie
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling-commands-that-prompt-timing" class="md-nav__link">
    Handling commands that prompt (timing)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling-commands-that-prompt-expect_string" class="md-nav__link">
    Handling commands that prompt (expect_string)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-changes" class="md-nav__link">
    Configuration changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-changes-from-a-file" class="md-nav__link">
    Configuration changes from a file
  </a>
  
    <nav class="md-nav" aria-label="Configuration changes from a file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#netmiko-will-automatically-enter-and-exit-config-mode" class="md-nav__link">
    Netmiko will automatically enter and exit config mode.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-keys" class="md-nav__link">
    SSH keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-config-file" class="md-nav__link">
    SSH Config File
  </a>
  
    <nav class="md-nav" aria-label="SSH Config File">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contents-of-ssh_config-file" class="md-nav__link">
    Contents of 'ssh_config' file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-log" class="md-nav__link">
    Session log
  </a>
  
    <nav class="md-nav" aria-label="Session log">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contents-of-outputtxt-after-execution" class="md-nav__link">
    Contents of 'output.txt' after execution
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standard-logging" class="md-nav__link">
    Standard Logging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secure-copy" class="md-nav__link">
    Secure Copy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-detection-using-ssh" class="md-nav__link">
    Auto detection using SSH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-detection-using-snmpv2c" class="md-nav__link">
    Auto detection using SNMPv2c
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-detection-using-snmpv3" class="md-nav__link">
    Auto detection using SNMPv3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#terminal-server-and-redispatch" class="md-nav__link">
    Terminal server and redispatch
  </a>
  
    <nav class="md-nav" aria-label="Terminal server and redispatch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#output-from-execution-of-this-code-slightly-cleaned-up" class="md-nav__link">
    Output from execution of this code (slightly cleaned-up).
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#traditional-network-management" class="md-nav__link">
    Traditional Network Management
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automate-the-network-provisioning" class="md-nav__link">
    Automate the network provisioning
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-does-network-automation-work" class="md-nav__link">
    How Does Network Automation Work?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#benefits-of-network-automation" class="md-nav__link">
    Benefits of Network Automation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#best-practices-for-network-automation" class="md-nav__link">
    Best Practices for Network Automation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decide-what-to-automate" class="md-nav__link">
    Decide What to Automate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aim-for-low-code-network-automation" class="md-nav__link">
    Aim for Low-Code Network Automation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adopt-a-vendor-agnostic-approach" class="md-nav__link">
    Adopt a Vendor-Agnostic Approach
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integrate-with-other-tools-and-services" class="md-nav__link">
    Integrate with Other Tools and Services
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automate-configuration" class="md-nav__link">
    Automate Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frequently-asked-questions" class="md-nav__link">
    Frequently Asked Questions
  </a>
  
    <nav class="md-nav" aria-label="Frequently Asked Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-an-sdn" class="md-nav__link">
    What is an SDN?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-a-cli" class="md-nav__link">
    What is a CLI?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-an-api" class="md-nav__link">
    What is an API?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-network-orchestration" class="md-nav__link">
    What is network orchestration?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-industries-can-benefit-the-most-from-network-automation" class="md-nav__link">
    What industries can benefit the most from network automation?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-are-the-top-companies-using-python" class="md-nav__link">
    What are the top companies using Python?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where-is-python-used" class="md-nav__link">
    Where is Python used?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-stable-is-python" class="md-nav__link">
    How stable is Python?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-network-automation" class="md-nav__link">
    What Is Network Automation?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scripts-vs-modules" class="md-nav__link">
    Scripts vs Modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#whats-the-python-interpreter" class="md-nav__link">
    What’s the Python Interpreter?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-does-the-interpreter-work" class="md-nav__link">
    How Does the Interpreter Work?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-run-python-scripts-from-a-file-manager" class="md-nav__link">
    How to Run Python Scripts From a File Manager
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



<h1 id="network-automation-with-python">Network Automation with Python</h1>
<!-- @import "[TOC]" {cmd="toc" depthFrom=2 depthTo=2 orderedList=true } -->

<!-- code_chunk_output -->

<ol>
<li><a href="#what-is-automation">What is Automation?</a></li>
<li><a href="#why-automate">Why Automate?</a></li>
<li><a href="#requirements-to-run-the-scripts">Requirements To Run The Scripts</a></li>
<li><a href="#getting-started">Getting Started</a></li>
<li><a href="#setting-up-a-local-development-environment">Setting Up a Local Development Environment</a></li>
<li><a href="#figuring-out-what-to-automate">Figuring Out What to Automate</a></li>
<li><a href="#limitations-of-python">Limitations of Python</a></li>
<li><a href="#why-python">Why Python?</a></li>
<li><a href="#handy-scripts-and-snippets">Handy Scripts and Snippets</a></li>
<li><a href="#netmiko-scripts-for-inspiration">Netmiko Scripts for Inspiration</a></li>
<li><a href="#frequently-asked-questions">Frequently Asked Questions</a></li>
</ol>
<!-- /code_chunk_output -->

<h2 id="what-is-automation">What is Automation?</h2>
<p>Network automation refers to the configuration, provisioning, testing and deployment of network equipment whilst employing techniques to minimize the need to introduce the potential for human error. This alone has the potential to increase the overall efficiency of the network whilst simultaneously lowering operational costs.</p>
<h2 id="why-automate">Why Automate?</h2>
<p>The decision to automate should be driven by the need for a more reliable, manageable and scalable network. For the purposes of this document, I will be specifically focusing on what we are currently able to achieve with the tooling we have  already developed, tested and implemented as a means for effective configuration management and device auditing capability.</p>
<ul>
<li>Enables the ability to deeply analyse both current and historical performance of devices deployed to production can help assist in identifying any degradation of equipment before it is able to cause a major impact on the network.</li>
<li>Enables the ability to maintain an accurate list of each devices version in order to effectively mitigate the risk of potential security incidents caused by running out of date or end-of-life software.</li>
<li>Enables the ability to make a wide-spread configuration change to a large number of network devices simultaneously and reliably in the event of a data breach is a key factor in reducing the risk of a major security incident.</li>
</ul>
<h2 id="requirements-to-run-the-scripts">Requirements To Run The Scripts</h2>
<p>The only requirements to run these scripts is the python runtime itself which can be downloaded directly from <a href="https://www.python.org/downloads/">python.org</a> and a python module called <a href="https://ktbyers.github.io/netmiko/docs/netmiko/index.html">Netmiko</a>.
- <strong><em>Python 3.6 or newer is required</em></strong>
- Once installed simply run the following command to install Netmiko and its dependencies.
- Once the dependencies have been installed you will be able to execute python code simply by writting <code>python</code> followed by the name of the script you wish to run.thon
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>pip install -r requirements.txt
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>cd Scripts
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>python .\NAME-OF-SCRIPT.py
</code></pre></div></p>
<h2 id="getting-started">Getting Started</h2>
<p>The below instructions will allow you to get started on your local machine for development and testing purposes. The following steps are to be used as a quick start guide for those who are new to the project and would like to get up and running quickly. Please note that these instructions are not intended to be a comprehensive guide but rather a quick start guide to deploy an environment similar to the one I have used to develop and test the scripts. I will assume that most users will be using a windows machine for this guide. However, if you are using a linux machine let me know and i will be happy to update the guide to include the linux equivalent of the steps below.</p>
<h2 id="setting-up-a-local-development-environment">Setting Up a Local Development Environment</h2>
<ul>
<li>The below instructions will allow you to get started on your <strong>local machine</strong> for development and testing purposes. <strong><em>Please Note the following instructions are not intended to be a comprehensive guide but rather a quick start guide to deploy an environment similar to the one I personally used to develop and test everything found in the project</em></strong>.</li>
<li>I have included a very simple network topology consisting of four Cisco IOSv Routers with OSPF and SSH pre configured to allow you to test the functionality of the scripts yourself. <strong><em>Please Note that you will need to change the IP addresses of each device  to match your local subnet.</em></strong></li>
<li>Everything found in this project has been tested on both GNS3 and Cisco Modelling Labs, although I have not personally tested EVE-NG, I do not believe there would be any issues in using EVE-NG.</li>
<li>Lastly, I will assume that most users will be using a windows machine for this guide. However, if you are using a linux machine let me know and i will be happy to update the guide to include the linux equivalent of the steps below.</li>
</ul>
<h3 id="installing-python">Installing Python</h3>
<p>There are a number of ways you can install Python on your machine, the below is my personal preference so feel free to install Python on your machine in any manner you prefer. Open a terminal and type in the following commands to install Python on your machine.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nb">cd</span><span class="w"> </span>~/Downloads/
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>curl<span class="w"> </span>https://repo.anaconda.com/miniconda/Miniconda3-latest-Windows-x86_64.exe<span class="w"> </span>--output<span class="w"> </span>miniconda.exe
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>./miniconda.exe
</code></pre></div>
<h3 id="installing-visual-studio-code">Installing Visual Studio Code</h3>
<p>My prefered text editor is Visual Studio Code, however you can install any text editor you like on your machine. Popular text editors include Sublime Text, Atom, Brackets and Notepad++. Open a terminal and type in the following commands to install Visual Studio Code on your machine.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nb">cd</span><span class="w"> </span>~/Downloads/
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>curl<span class="w"> </span>https://code.visualstudio.com/sha/download?build<span class="o">=</span>stable<span class="p">&amp;</span><span class="nv">os</span><span class="o">=</span>win32-x64-user<span class="w"> </span>--output<span class="w"> </span>vscode.exe
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>./vscode.exe
</code></pre></div>
<h3 id="installing-dependencies">Installing Dependencies</h3>
<p>First, download the project files as a zip by clicking on the icon next to the clone button, and selecting "download as zip" then extract the files to your desktop. After you have the project files downloaded we can proceed to installing the dependencies. When using Python it is best practive to install the dependencies for each individual project in a separate virtual environment in order to negate the risk of packages conflicting with eachother. To create a virtual environment and install the dependencies for this project open a terminal and type in the following commands.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>network_automation<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.9.5
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>conda<span class="w"> </span>activate<span class="w"> </span>network_automation
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</code></pre></div>
<p>!!!warning What if im not using conda?
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>network_automation
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>network_automation<span class="se">\\</span>Scripts<span class="se">\\</span>activate
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</code></pre></div></p>
<hr />
<h2 id="figuring-out-what-to-automate">Figuring Out What to Automate</h2>
<ol>
<li>Identify tasks that are performed frequently.</li>
<li>Estimate how much time it takes to perform one of those tasks one time. Time yourself doing the task.</li>
<li>If anyone else performs this task, estimate how often they do it, and how long it takes them. Add everyone’s time together.</li>
<li>Break down the steps to the task into the smallest chunks possible.</li>
<li>Here’s an example from my experience when configuring a device with a template:</li>
<li>Once a task is automated, record how long it takes to run and compare it to how long it takes to run manually and how often it’s run.</li>
</ol>
<h3 id="open-source-tools">Open-Source Tools</h3>
<p>When getting started, I recommend beginning to learn a few common tools, then expanding from there.</p>
<ol>
<li>
<p><strong>Python</strong> - While everyone has their programming language of choice, there’s no disputing Python’s popularity and community support. If you’ve never written any code before, I highly recommend starting with Python. It’s easy to learn, beginner friendly, and there are lots of resources out there. Once you get familiar with Python, you can expand your skill set by learning additional programming languages.</p>
</li>
<li>
<p><strong>Ansible</strong> - Ansible is one of the most popular open-source automation tools out there. Begin by learning how Ansible works, and use it to start automating basic tasks in your network.</p>
</li>
<li>
<p><strong>Git</strong> - The de facto version control system out there, it’s entirely open-source and relatively easy to learn. Start by familiarizing yourself with how Git works, how to save (commit) changes, how to reverse (revert) changes when mistakes are made, etc. Note that Git is not the same as GitHub or GitLab. You do NOT need a GitHub/GitLab/etc. account to use Git.</p>
</li>
</ol>
<h3 id="why-network-engineers-should-learn-python">Why network engineers should learn Python?</h3>
<ul>
<li>It is easy to learn and read.</li>
<li>It is perfect for scripting tasks which is perfect for network automation.</li>
<li>Network vendors, especially Cisco have adopted Python as the language of choice.</li>
<li>Lots of network automation tools are written in Python.</li>
<li>Cisco already embed a Python shell in many switches.</li>
<li>Networks are getting bigger but IT teams are not, we need to find better ways to do more with less.</li>
<li>Stand out from the crowd and improve your career prospects.</li>
<li>Python also has a great community, as one of the most popular programming languages in use today, it is very easy to find a solution to your problems.</li>
<li>Python is already installed on Linux &amp; MacOS and is now available on a lot of Cisco Switches.</li>
</ul>
<h3 id="how-python-is-useful-in-networking">How Python is useful in networking?</h3>
<p>Python allows you to build scripts to automate complex network configuration. It is the most widely used programming language for software-defined networking, and is a critical skill for new network engineers. Learn the fundamentals of the language, including objects and variables, strings, loops, and functions.</p>
<h3 id="learning-python-will-be-highly-useful-for-network-engineer">Learning Python Will Be Highly Useful For Network Engineer</h3>
<p>Python language has turned out to be one of the most recognized programming languages of recent times. The network engineers can also gain from it, this talent is most sought after by employers. Well, as you have understood by now, coding is crucial for the present network engineers; however, the network engineer is not going to concentrate only on it. This is where Python enters. You needn’t learn complex languages like C++ or Java but learn Python and take your networking career to the next level.</p>
<p>It is a simple tool for the management and server configurations and tasks. Python is that you require only less number of the code which is one of the main advantages. If you are an aspiring IT consultant, network engineer, or network consultant, then you will gain a lot after learning Python. The lowest line is that networking engineers should also have programming skills to utilize the new tools and also the latest programming wave.</p>
<h2 id="limitations-of-python">Limitations of Python</h2>
<p>There are times when Python isn’t the best language. There are some specific applications where other languages like C or Java are going to be better. Let’s see why.</p>
<h3 id="speed-isnt-pythons-strong-suit">Speed isn’t Python’s strong suit</h3>
<p>Python is an interpreted language, meaning everything you do goes through an extra layer so the target machine can read and execute the code. It’s similar to talking through a translator with someone who speaks a different language.
Comparing Python with C, a compiled programming language, it’s true that Python code runs slower if we measure the execution time. Yet Python’s flexibility serves as a counterweight here. The language offers practical ways to solve problems and features dynamic typing, which contributes to rapid development. So Python beats C in terms of development time, which is often far more crucial than runtime performance, since less development time converts into lower costs and faster time to market.
Conclusion: If you have algorithms that need to run quickly (say, for sorting, searching, or just doing something on an integrated piece of hardware that needs to meet a specific speed requirement), you probably shouldn’t use Python.</p>
<h3 id="high-memory-usage">High memory usage</h3>
<p>Because of Python’s structure, it demands a lot of memory.</p>
<hr />
<h2 id="why-python">Why Python?</h2>
<p>Well-structured, straightforward, easy to learn and use, concise yet expressive, versatile, and neat. That’s what Python is. Python focuses on code readability and visibility, which means developers can easily read, understand, and modify existing code and spend less time and effort actually coding. These advantages make Python one of the best languages for startups, since getting to market fast often means a competitive advantage and a faster return on investment.</p>
<h3 id="its-powerful">It's Powerful</h3>
<p>Python can be used to build almost anything, from websites to AI-powered solutions to numeric and scientific apps. The language provides a lot of standard libraries and features that address almost any programming need, which again results in rapid development.</p>
<h3 id="security-is-a-priority">Security is a priority</h3>
<p>Cybersecurity threats are rapidly growing, which is why businesses look for ways to ensure maximum security.</p>
<p>Python proves to be a great choice for those focusing on data security. It provides features for authentication and authorization, email verification, and resetting passwords. Also, Python and its frameworks offer different mechanisms to address and reduce security-related issues such as cross-site request forgery (CSRF), cross-site scripting (XSS), SQL injection, and clickjacking.</p>
<h3 id="large-community-and-high-developer-availability">Large community and high developer availability</h3>
<p>Having a strong community is crucial for any language, since community members share experiences and help one another, create and upgrade features, update documentation, and troubleshoot problems. A large community, in short, grows the language and makes it develop faster.</p>
<p>Additionally, a large community means developers are easy to find. For example, there were 2,843 Python/Django outsourcing development companies listed on Clutch as of October 2020. As for Python developers, there were 8.2 million active Pythonistas in the world according to the Global Developer Population 2019 report by SlashData.</p>
<h3 id="good-with-ai-and-ml-tasks">Good with AI and ML tasks</h3>
<p>How does Amazon choose items just for you? And how does Spotify know what you want to listen to before you actually turn on the music? The answer is machine learning. And Python is the king of machine learning and artificial intelligence. Among its top machine learning use cases are content personalization, recommendations, image recognition, machine translation, speech recognition, fraud detection, and user behavior analytics.</p>
<hr />
<h2 id="handy-scripts-and-snippets">Handy Scripts and Snippets</h2>
<h3 id="ssl-checker">SSL Checker</h3>
<p>Collects SSL/TLS information from all hosts defined in devices.txt</p>
<h3 id="usage">Usage</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>python ssl_checker.py -h
</code></pre></div>
<p><code>-f, --host-file</code> File containing hostnames for input</p>
<p><code>-H, --host</code> Enter the hosts separated by space</p>
<p><code>-s, --socks</code> Enable connection through SOCKS server</p>
<p><code>-c, --csv</code> Enable CSV file export by specifying filename.csv after this</p>
<h4 id="argument">Argument:</h4>
<p><code>-j, --json</code> Use this if you want to only have the result in JSON</p>
<p><code>-S, --summary</code> This argument will show quick summary in the output</p>
<p><code>-x, --html</code> Enable HTML file export</p>
<p><code>-J, --json-save</code> Use this if you want to save as JSON file per host</p>
<p><code>-a, --analyze</code> This argument will include security analyze on the certificate. Takes more time. No result means failed to analyze.</p>
<p><code>-v, --verbose</code> Shows more output. Good for troubleshooting.</p>
<p><code>-h, --help</code>Shows the help and exit</p>
<h4 id="example">Example</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>jodis@jodis-laptop:$<span class="w"> </span>python<span class="w"> </span>check-ssl.py<span class="w"> </span>-H<span class="w"> </span>time.com<span class="w"> </span>github.com:443
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>+---------------------+
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="p">|</span><span class="w"> </span>Analyzing<span class="w"> </span><span class="m">2</span><span class="w"> </span>host<span class="o">(</span>s<span class="o">)</span><span class="w"> </span><span class="p">|</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>+---------------------+
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="o">[</span>+<span class="o">]</span><span class="w"> </span>time.com
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>-------------
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>Issued<span class="w"> </span>domain:<span class="w"> </span>time.com
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>Issued<span class="w"> </span>to:<span class="w"> </span>None
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>Issued<span class="w"> </span>by:<span class="w"> </span>Amazon<span class="w"> </span><span class="o">(</span>US<span class="o">)</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>Valid<span class="w"> </span>from:<span class="w"> </span><span class="m">2019</span>-09-06
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>Valid<span class="w"> </span>to:<span class="w"> </span><span class="m">2020</span>-10-06<span class="w"> </span><span class="o">(</span><span class="m">78</span><span class="w"> </span>days<span class="w"> </span>left<span class="o">)</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>Validity<span class="w"> </span>days:<span class="w"> </span><span class="m">396</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>Certificate<span class="w"> </span>valid:<span class="w"> </span>True
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>Certificate<span class="w"> </span>S/N:<span class="w"> </span><span class="m">20641318859548253362475798736742284477</span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>Certificate<span class="w"> </span>SHA1<span class="w"> </span>FP:<span class="w"> </span>D5:CE:1B:77:AB:59:C9:BE:37:58:0F:5D:73:97:64:98:C4:3E:43:30
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>Certificate<span class="w"> </span>version:<span class="w"> </span><span class="m">2</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>Certificate<span class="w"> </span>algorithm:<span class="w"> </span>sha256WithRSAEncryption
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>Expired:<span class="w"> </span>False
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>Certificate<span class="w"> </span>SAN<span class="s1">&#39;s:</span>
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="s1">    DNS:time.com</span>
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="s1">    DNS:*.time.com</span>
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a><span class="s1">[+] github.com</span>
<a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a><span class="s1">---------------</span>
<a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a><span class="s1">Issued domain: github.com</span>
<a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a><span class="s1">Issued to: GitHub, Inc.</span>
<a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a><span class="s1">Issued by: DigiCert Inc (US)</span>
<a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a><span class="s1">Valid from: 2020-05-05</span>
<a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a><span class="s1">Valid to: 2022-05-10 (659 days left)</span>
<a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a><span class="s1">Validity days: 735</span>
<a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a><span class="s1">Certificate valid: True</span>
<a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a><span class="s1">Certificate S/N: 7101927171473588541993819712332065657</span>
<a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a><span class="s1">Certificate SHA1 FP: 5F:3F:7A:C2:56:9F:50:A4:66:76:47:C6:A1:8C:A0:07:AA:ED:BB:8E</span>
<a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a><span class="s1">Certificate version: 2</span>
<a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a><span class="s1">Certificate algorithm: sha256WithRSAEncryption</span>
<a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a><span class="s1">Expired: False</span>
<a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a><span class="s1">Certificate SAN&#39;</span>s:
<a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a><span class="w">    </span>DNS:github.com
<a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a><span class="w">    </span>DNS:www.github.com
<a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a>+-------------------------------------------------------------------------------------------+
<a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a><span class="p">|</span><span class="w"> </span>Successful:<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Failed:<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Valid:<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Warning:<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Expired:<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Duration:<span class="w"> </span><span class="m">0</span>:00:07.694433<span class="w"> </span><span class="p">|</span>
<a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a>+-------------------------------------------------------------------------------------------+
</code></pre></div>
<p>!!!NOTE: Keep in mind that if the certificate has less than 15 days validity, the script will consider it as a warning in the summary.</p>
<h3 id="censored">Censored?</h3>
<p>Try passing the <code>-s/--socks</code> argument to the script with the <code>HOST:PORT</code> format to connect through SOCKS proxy.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>jodis@jodis-laptop:<span class="w"> </span>python<span class="w"> </span>check-ssl.py<span class="w"> </span>-H<span class="w"> </span>facebook.com
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>+-------------------+
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="p">|</span>Analyzing<span class="w"> </span><span class="m">1</span><span class="w"> </span>host<span class="o">(</span>s<span class="o">)</span><span class="p">|</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>+-------------------+
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="o">[</span>-<span class="o">]</span><span class="w"> </span>facebook.com<span class="w">    </span>Failed:<span class="w"> </span><span class="o">[</span>Errno<span class="w"> </span><span class="m">111</span><span class="o">]</span><span class="w"> </span>Connection<span class="w"> </span>refused
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>+-------------------------------------------------------------------------------------------+
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="p">|</span><span class="w"> </span>Successful:<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Failed:<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Valid:<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Warning:<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Expired:<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Duration:<span class="w"> </span><span class="m">0</span>:00:04.109058<span class="w"> </span><span class="p">|</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>+-------------------------------------------------------------------------------------------+
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>jodis@jodis-laptop:<span class="w"> </span>python<span class="w"> </span>check-ssl.py<span class="w"> </span>-H<span class="w"> </span>facebook.com<span class="w"> </span>-s<span class="w"> </span>localhost:9050
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>+---------------------+
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="p">|</span><span class="w"> </span>Analyzing<span class="w"> </span><span class="m">1</span><span class="w"> </span>host<span class="o">(</span>s<span class="o">)</span><span class="w"> </span><span class="p">|</span>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>+---------------------+
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="o">[</span>+<span class="o">]</span><span class="w"> </span>facebook.com
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>-----------------
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a>Issued<span class="w"> </span>domain:<span class="w"> </span>*.facebook.com
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>Issued<span class="w"> </span>to:<span class="w"> </span>Facebook,<span class="w"> </span>Inc.
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a>Issued<span class="w"> </span>by:<span class="w"> </span>DigiCert<span class="w"> </span>Inc<span class="w"> </span><span class="o">(</span>US<span class="o">)</span>
<a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a>Valid<span class="w"> </span>from:<span class="w"> </span><span class="m">2020</span>-05-14
<a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a>Valid<span class="w"> </span>to:<span class="w"> </span><span class="m">2020</span>-08-05<span class="w"> </span><span class="o">(</span><span class="m">16</span><span class="w"> </span>days<span class="w"> </span>left<span class="o">)</span>
<a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a>Validity<span class="w"> </span>days:<span class="w"> </span><span class="m">83</span>
<a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a>Certificate<span class="w"> </span>valid:<span class="w"> </span>True
<a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a>Certificate<span class="w"> </span>S/N:<span class="w"> </span><span class="m">19351530099991824979726880175805235719</span>
<a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a>Certificate<span class="w"> </span>SHA1<span class="w"> </span>FP:<span class="w"> </span><span class="m">89</span>:7F:54:63:61:34:2F:7E:B4:B5:68:E2:92:79:D2:98:B4:97:D8:EA
<a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a>Certificate<span class="w"> </span>version:<span class="w"> </span><span class="m">2</span>
<a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a>Certificate<span class="w"> </span>algorithm:<span class="w"> </span>sha256WithRSAEncryption
<a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a>Expired:<span class="w"> </span>False
<a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a>Certificate<span class="w"> </span>SAN<span class="err">&#39;</span>s:
<a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a><span class="w">    </span>DNS:*.facebook.com
<a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a><span class="w">    </span>DNS:*.facebook.net
<a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a><span class="w">    </span>DNS:*.fbcdn.net
<a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a><span class="w">    </span>DNS:*.fbsbx.com
<a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a><span class="w">    </span>DNS:*.messenger.com
<a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a><span class="w">    </span>DNS:facebook.com
<a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a><span class="w">    </span>DNS:messenger.com
<a id="__codelineno-7-38" name="__codelineno-7-38" href="#__codelineno-7-38"></a><span class="w">    </span>DNS:*.m.facebook.com
<a id="__codelineno-7-39" name="__codelineno-7-39" href="#__codelineno-7-39"></a><span class="w">    </span>DNS:*.xx.fbcdn.net
<a id="__codelineno-7-40" name="__codelineno-7-40" href="#__codelineno-7-40"></a><span class="w">    </span>DNS:*.xy.fbcdn.net
<a id="__codelineno-7-41" name="__codelineno-7-41" href="#__codelineno-7-41"></a><span class="w">    </span>DNS:*.xz.fbcdn.net
<a id="__codelineno-7-42" name="__codelineno-7-42" href="#__codelineno-7-42"></a>+-------------------------------------------------------------------------------------------+
<a id="__codelineno-7-43" name="__codelineno-7-43" href="#__codelineno-7-43"></a><span class="p">|</span><span class="w"> </span>Successful:<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Failed:<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Valid:<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Warning:<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Expired:<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Duration:<span class="w"> </span><span class="m">0</span>:00:00.416188<span class="w"> </span><span class="p">|</span>
<a id="__codelineno-7-44" name="__codelineno-7-44" href="#__codelineno-7-44"></a>+-------------------------------------------------------------------------------------------+
</code></pre></div>
<h3 id="quick-summary">Quick Summary</h3>
<p>Sometimes you need to run the script and get the quick summary of the hosts. By passing <code>-S/--summary</code> you will get the quick overview of the result.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>jodis@jodis-laptop:<span class="w"> </span>python<span class="w"> </span>check-ssl.py<span class="w"> </span>-H<span class="w"> </span>narbeh.org:443<span class="w"> </span>test.com<span class="w"> </span>twitter.com<span class="w"> </span>-S
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>+-------------------------------------------------------------------------------------------+
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="p">|</span><span class="w"> </span>Successful:<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Failed:<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Valid:<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Warning:<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Expired:<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Duration:<span class="w"> </span><span class="m">0</span>:00:01.958670<span class="w"> </span><span class="p">|</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>+-------------------------------------------------------------------------------------------+
</code></pre></div>
<h3 id="security-analyze">Security Analyze</h3>
<p>By passing <code>-a/--analyze</code> to the script, it will scan the certificate for security issues and vulnerabilities. It will also mark a grade for the certificate. <strong>This will take more time to finish.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>jodis@jodis-laptop:<span class="w"> </span>python<span class="w"> </span>check-ssl.py<span class="w"> </span>-H<span class="w"> </span>narbeh.org:443<span class="w"> </span>-a
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>+---------------------+
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="p">|</span><span class="w"> </span>Analyzing<span class="w"> </span><span class="m">1</span><span class="w"> </span>host<span class="o">(</span>s<span class="o">)</span><span class="w"> </span><span class="p">|</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>+---------------------+
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>Warning:<span class="w"> </span>-a/--analyze<span class="w"> </span>is<span class="w"> </span>enabled.<span class="w"> </span>It<span class="w"> </span>takes<span class="w"> </span>more<span class="w"> </span>time...
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="o">[</span>+<span class="o">]</span><span class="w"> </span>narbeh.org
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>Issued<span class="w"> </span>domain:<span class="w"> </span>narbeh.org
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>Issued<span class="w"> </span>to:<span class="w"> </span>None
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>Issued<span class="w"> </span>by:<span class="w"> </span>Let<span class="err">&#39;</span>s<span class="w"> </span>Encrypt<span class="w"> </span><span class="o">(</span>US<span class="o">)</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>Valid<span class="w"> </span>from:<span class="w"> </span><span class="m">2018</span>-04-21
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>Valid<span class="w"> </span>to:<span class="w"> </span><span class="m">2018</span>-07-20<span class="w"> </span><span class="o">(</span><span class="m">88</span><span class="w"> </span>days<span class="w"> </span>left<span class="o">)</span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>Validity<span class="w"> </span>days:<span class="w"> </span><span class="m">90</span>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>Certificate<span class="w"> </span>S/N:<span class="w"> </span><span class="m">338163108483756707389368573553026254634358</span>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a>Certificate<span class="w"> </span>version:<span class="w"> </span><span class="m">2</span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a>Certificate<span class="w"> </span>algorithm:<span class="w"> </span>sha256WithRSAEncryption
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a>Certificate<span class="w"> </span>grade:<span class="w"> </span>A
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a>Poodle<span class="w"> </span>vulnerability:<span class="w"> </span>False
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a>Heartbleed<span class="w"> </span>vulnerability:<span class="w"> </span>False
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a>Hearbeat<span class="w"> </span>vulnerability:<span class="w"> </span>True
<a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a>Freak<span class="w"> </span>vulnerability:<span class="w"> </span>False
<a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a>Logjam<span class="w"> </span>vulnerability:<span class="w"> </span>False
<a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a>Drown<span class="w"> </span>vulnerability:<span class="w"> </span>False
<a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a>Expired:<span class="w"> </span>False
<a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a>
<a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a>+------------------------------------------------------+
<a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a><span class="p">|</span><span class="w"> </span>Successful:<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Failed:<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Duration:<span class="w"> </span><span class="m">0</span>:00:01.429145<span class="w"> </span><span class="p">|</span>
<a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a>+------------------------------------------------------+
</code></pre></div>
<h3 id="json-html-and-csv-output">JSON, HTML and CSV Output</h3>
<p>Example only with the <code>-j/--json</code> argument which shows the JSON only. Perfect for piping to another tool.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="p">{</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="nt">&quot;narbeh.org&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;narbeh.org&quot;</span><span class="p">,</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="nt">&quot;issued_to&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sni.cloudflaressl.com&quot;</span><span class="p">,</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="nt">&quot;issued_o&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Cloudflare, Inc.&quot;</span><span class="p">,</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="nt">&quot;issuer_c&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;US&quot;</span><span class="p">,</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="nt">&quot;issuer_o&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CloudFlare, Inc.&quot;</span><span class="p">,</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="nt">&quot;issuer_ou&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="nt">&quot;issuer_cn&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CloudFlare Inc ECC CA-2&quot;</span><span class="p">,</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="nt">&quot;cert_sn&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;20958932659753030511717961095784314907&quot;</span><span class="p">,</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="nt">&quot;cert_sha1&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;FC:2D:0E:FD:DE:C0:98:7D:23:D2:E7:14:4C:07:6A:3D:25:25:49:B6&quot;</span><span class="p">,</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="nt">&quot;cert_alg&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ecdsa-with-SHA256&quot;</span><span class="p">,</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="nt">&quot;cert_ver&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="nt">&quot;cert_sans&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DNS:sni.cloudflaressl.com; DNS:narbeh.org; DNS:*.narbeh.org&quot;</span><span class="p">,</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="nt">&quot;cert_exp&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="nt">&quot;cert_valid&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="nt">&quot;valid_from&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2020-04-02&quot;</span><span class="p">,</span>
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="nt">&quot;valid_till&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2020-10-09&quot;</span><span class="p">,</span>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="nt">&quot;validity_days&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">190</span><span class="p">,</span>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="nt">&quot;days_left&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">81</span><span class="p">,</span>
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="nt">&quot;valid_days_to_expire&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">81</span><span class="p">,</span>
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="nt">&quot;tcp_port&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">443</span>
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="p">}</span>
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a><span class="p">}</span>
</code></pre></div>
<p>CSV export is also easy. After running the script with <code>-c/--csv</code> argument and specifying <code>filename.csv</code> after it, you'll have something like this:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>jodis@jodis-laptop:<span class="w"> </span>~/ssl-checker$<span class="w"> </span>cat<span class="w"> </span>domain.csv
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>narbeh.org
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>issued_to,narbeh.org
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>valid_till,2018-07-20
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>valid_from,2018-04-21
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>issuer_ou,None
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>cert_ver,2
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>cert_alg,sha256WithRSAEncryption
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>cert_exp,False
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>issuer_c,US
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>issuer_cn,Let<span class="s1">&#39;s Encrypt Authority X3</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="s1">issuer_o,Let&#39;</span>s<span class="w"> </span>Encrypt
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>validity_days,90
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>cert_sn,338163108483756707389368573553026254634358
</code></pre></div>
<p>Finally, if you want to export JSON's output per host in a separated file, use <code>-J/--json-save</code>. This will export JSON's output per host.</p>
<h4 id="as-a-python-module">As a Python Module</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kn">from</span> <span class="nn">ssl_checker</span> <span class="kn">import</span> <span class="n">SSLChecker</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="n">SSLChecker</span> <span class="o">=</span> <span class="n">SSLChecker</span><span class="p">()</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="s1">&#39;hosts&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;google.com&#39;</span><span class="p">,</span> <span class="s1">&#39;cisco.com&#39;</span><span class="p">]</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="p">}</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="n">SSLChecker</span><span class="o">.</span><span class="n">show_result</span><span class="p">(</span><span class="n">SSLChecker</span><span class="o">.</span><span class="n">get_args</span><span class="p">(</span><span class="n">json_args</span><span class="o">=</span><span class="n">args</span><span class="p">))</span>
</code></pre></div>
<hr />
<h2 id="netmiko-scripts-for-inspiration">Netmiko Scripts for Inspiration</h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="n">net_connect</span> <span class="o">=</span> <span class="n">ConnectHandler</span><span class="p">(</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="n">device_type</span><span class="o">=</span><span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="n">host</span><span class="o">=</span><span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="n">username</span><span class="o">=</span><span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="n">password</span><span class="o">=</span><span class="n">getpass</span><span class="p">(),</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="p">)</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="nb">print</span><span class="p">(</span><span class="n">net_connect</span><span class="o">.</span><span class="n">find_prompt</span><span class="p">())</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</code></pre></div>
<h3 id="connect-using-a-dictionary">Connect using a dictionary</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="n">cisco1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">(),</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="p">}</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="n">net_connect</span> <span class="o">=</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">cisco1</span><span class="p">)</span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="nb">print</span><span class="p">(</span><span class="n">net_connect</span><span class="o">.</span><span class="n">find_prompt</span><span class="p">())</span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</code></pre></div>
<h3 id="dictionary-with-a-context-manager">Dictionary with a context manager</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="n">cisco1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">(),</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="p">}</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="c1">## Will automatically &#39;disconnect()&#39;</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="k">with</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">cisco1</span><span class="p">)</span> <span class="k">as</span> <span class="n">net_connect</span><span class="p">:</span>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="nb">print</span><span class="p">(</span><span class="n">net_connect</span><span class="o">.</span><span class="n">find_prompt</span><span class="p">())</span>
</code></pre></div>
<h3 id="enable-mode">Enable mode</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="n">password</span> <span class="o">=</span> <span class="n">getpass</span><span class="p">()</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="n">secret</span> <span class="o">=</span> <span class="n">getpass</span><span class="p">(</span><span class="s2">&quot;Enter secret: &quot;</span><span class="p">)</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="n">cisco1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">password</span><span class="p">,</span>
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a><span class="s2">&quot;secret&quot;</span><span class="p">:</span> <span class="n">secret</span><span class="p">,</span>
<a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a><span class="p">}</span>
<a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a>
<a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a><span class="n">net_connect</span> <span class="o">=</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">cisco1</span><span class="p">)</span>
<a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a><span class="c1">## Call &#39;enable()&#39; method to elevate privileges</span>
<a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">enable</span><span class="p">()</span>
<a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a><span class="nb">print</span><span class="p">(</span><span class="n">net_connect</span><span class="o">.</span><span class="n">find_prompt</span><span class="p">())</span>
<a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</code></pre></div>
<h3 id="connecting-to-multiple-devices">Connecting to multiple devices.</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="n">password</span> <span class="o">=</span> <span class="n">getpass</span><span class="p">()</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="n">cisco1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">password</span><span class="p">,</span>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="p">}</span>
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>
<a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="n">cisco2</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco2.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">password</span><span class="p">,</span>
<a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a><span class="p">}</span>
<a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a>
<a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a><span class="n">nxos1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_nxos&quot;</span><span class="p">,</span>
<a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;nxos1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">password</span><span class="p">,</span>
<a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a><span class="p">}</span>
<a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a>
<a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a><span class="n">srx1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;juniper_junos&quot;</span><span class="p">,</span>
<a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;srx1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">password</span><span class="p">,</span>
<a id="__codelineno-17-32" name="__codelineno-17-32" href="#__codelineno-17-32"></a><span class="p">}</span>
<a id="__codelineno-17-33" name="__codelineno-17-33" href="#__codelineno-17-33"></a>
<a id="__codelineno-17-34" name="__codelineno-17-34" href="#__codelineno-17-34"></a><span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="p">(</span><span class="n">cisco1</span><span class="p">,</span> <span class="n">cisco2</span><span class="p">,</span> <span class="n">nxos1</span><span class="p">,</span> <span class="n">srx1</span><span class="p">):</span>
<a id="__codelineno-17-35" name="__codelineno-17-35" href="#__codelineno-17-35"></a><span class="n">net_connect</span> <span class="o">=</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">device</span><span class="p">)</span>
<a id="__codelineno-17-36" name="__codelineno-17-36" href="#__codelineno-17-36"></a><span class="nb">print</span><span class="p">(</span><span class="n">net_connect</span><span class="o">.</span><span class="n">find_prompt</span><span class="p">())</span>
<a id="__codelineno-17-37" name="__codelineno-17-37" href="#__codelineno-17-37"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</code></pre></div>
<h3 id="executing-show-command">Executing show command.</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="n">cisco1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">(),</span>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="p">}</span>
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="c1">## Show command that we execute.</span>
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;show ip int brief&quot;</span>
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>
<a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="k">with</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">cisco1</span><span class="p">)</span> <span class="k">as</span> <span class="n">net_connect</span><span class="p">:</span>
<a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a><span class="n">output</span> <span class="o">=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
<a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>
<a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a><span class="c1">## Automatically cleans-up the output so that only the show output is returned</span>
<a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a><span class="nb">print</span><span class="p">()</span>
<a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a><span class="nb">print</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
<a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a><span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<p>!!!note Output:
     <div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>Password:
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>IP-<span class="w">    </span>OK?<span class="w"> </span>Method<span class="w"> </span>Status<span class="w">    </span>Protocol
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>FastEthernet0<span class="w">    </span>unassignedYES<span class="w"> </span><span class="nb">unset</span><span class="w">      </span>down
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>FastEthernet1<span class="w">    </span>unassignedYES<span class="w"> </span><span class="nb">unset</span><span class="w">      </span>down
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>FastEthernet2<span class="w">    </span>unassignedYES<span class="w"> </span><span class="nb">unset</span><span class="w">  </span>down
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>down
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>FastEthernet3<span class="w">    </span>unassignedYES<span class="w"> </span><span class="nb">unset</span><span class="w">      </span>down
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>FastEthernet4<span class="w">    </span><span class="m">10</span>.220.88.20<span class="w">    </span>YES<span class="w"> </span>NVRAM<span class="w">  </span>up<span class="w">    </span>up
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>Vlan1<span class="w">    </span>unassignedYES<span class="w"> </span><span class="nb">unset</span><span class="w">      </span>down
</code></pre></div></p>
<h3 id="adjusting-delay_factor">Adjusting delay_factor</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="n">cisco1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">(),</span>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="p">}</span>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a>
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;copy flash:c880data-universalk9-mz.155-3.M8.bin flash:test1.bin&quot;</span>
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a>
<a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="c1">## Start clock</span>
<a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="n">start_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a>
<a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a><span class="n">net_connect</span> <span class="o">=</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">cisco1</span><span class="p">)</span>
<a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a>
<a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a><span class="c1">## Netmiko normally allows 100 seconds for send_command to complete</span>
<a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a><span class="c1">## delay_factor=4 would allow 400 seconds.</span>
<a id="__codelineno-20-21" name="__codelineno-20-21" href="#__codelineno-20-21"></a><span class="n">output</span> <span class="o">=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_command_timing</span><span class="p">(</span>
<a id="__codelineno-20-22" name="__codelineno-20-22" href="#__codelineno-20-22"></a><span class="n">command</span><span class="p">,</span> <span class="n">strip_prompt</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">strip_command</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">delay_factor</span><span class="o">=</span><span class="mi">4</span>
<a id="__codelineno-20-23" name="__codelineno-20-23" href="#__codelineno-20-23"></a><span class="p">)</span>
<a id="__codelineno-20-24" name="__codelineno-20-24" href="#__codelineno-20-24"></a><span class="c1">## Router prompted in this example:</span>
<a id="__codelineno-20-25" name="__codelineno-20-25" href="#__codelineno-20-25"></a><span class="c1">## -------</span>
<a id="__codelineno-20-26" name="__codelineno-20-26" href="#__codelineno-20-26"></a><span class="c1">## cisco1#copy flash:c880data-universalk9-mz.155-3.M8.bin flash:test1.bin</span>
<a id="__codelineno-20-27" name="__codelineno-20-27" href="#__codelineno-20-27"></a><span class="c1">## Destination filename [test1.bin]?</span>
<a id="__codelineno-20-28" name="__codelineno-20-28" href="#__codelineno-20-28"></a><span class="c1">## Copy in progress...CCCCCCC</span>
<a id="__codelineno-20-29" name="__codelineno-20-29" href="#__codelineno-20-29"></a><span class="c1">## -------</span>
<a id="__codelineno-20-30" name="__codelineno-20-30" href="#__codelineno-20-30"></a><span class="k">if</span> <span class="s2">&quot;Destination filename&quot;</span> <span class="ow">in</span> <span class="n">output</span><span class="p">:</span>
<a id="__codelineno-20-31" name="__codelineno-20-31" href="#__codelineno-20-31"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Starting copy...&quot;</span><span class="p">)</span>
<a id="__codelineno-20-32" name="__codelineno-20-32" href="#__codelineno-20-32"></a><span class="n">output</span> <span class="o">+=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="s2">&quot;</span>
<a id="__codelineno-20-33" name="__codelineno-20-33" href="#__codelineno-20-33"></a><span class="s2">&quot;, delay_factor=4, expect_string=r&quot;</span><span class="c1">#&quot;)</span>
<a id="__codelineno-20-34" name="__codelineno-20-34" href="#__codelineno-20-34"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
<a id="__codelineno-20-35" name="__codelineno-20-35" href="#__codelineno-20-35"></a>
<a id="__codelineno-20-36" name="__codelineno-20-36" href="#__codelineno-20-36"></a><span class="n">end_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<a id="__codelineno-20-37" name="__codelineno-20-37" href="#__codelineno-20-37"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span>
<a id="__codelineno-20-38" name="__codelineno-20-38" href="#__codelineno-20-38"></a><span class="p">{</span><span class="n">output</span><span class="p">}</span>\
<a id="__codelineno-20-39" name="__codelineno-20-39" href="#__codelineno-20-39"></a><span class="s2">&quot;)</span>
<a id="__codelineno-20-40" name="__codelineno-20-40" href="#__codelineno-20-40"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;done&quot;</span><span class="p">)</span>
<a id="__codelineno-20-41" name="__codelineno-20-41" href="#__codelineno-20-41"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution time: </span><span class="si">{</span><span class="n">start_time</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">end_time</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="using-global_delay_factor">Using global_delay_factor</h3>
<p><a href="https://pynet.twb-tech.com/blog/automation/netmiko-what-is-done.html">Additional details on global_delay_factor</a></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="n">cisco1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">(),</span>
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="c1">## Multiple all of the delays by a factor of two</span>
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="s2">&quot;global_delay_factor&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="p">}</span>
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a>
<a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;show ip arp&quot;</span>
<a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="n">net_connect</span> <span class="o">=</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">cisco1</span><span class="p">)</span>
<a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a><span class="n">output</span> <span class="o">=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
<a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
<a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a>
<a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span>
<a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a><span class="p">{</span><span class="n">output</span><span class="p">}</span>\
<a id="__codelineno-21-20" name="__codelineno-21-20" href="#__codelineno-21-20"></a><span class="s2">&quot;)</span>
</code></pre></div>
<h3 id="using-textfsm">Using TextFSM</h3>
<p><a href="https://pynet.twb-tech.com/blog/automation/netmiko-textfsm.html">Additional Details on Netmiko and TextFSM</a></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="n">cisco1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">(),</span>
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="p">}</span>
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a>
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;show ip int brief&quot;</span>
<a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="k">with</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">cisco1</span><span class="p">)</span> <span class="k">as</span> <span class="n">net_connect</span><span class="p">:</span>
<a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="c1">## Use TextFSM to retrieve structured data</span>
<a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a><span class="n">output</span> <span class="o">=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">use_textfsm</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a>
<a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a><span class="nb">print</span><span class="p">()</span>
<a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a><span class="n">pprint</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
<a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a><span class="nb">print</span><span class="p">()</span>
</code></pre></div>
!!!note Output:
     <div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="err">Password</span><span class="p">:</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="p">[{</span><span class="err">&#39;i</span><span class="kc">ntf</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;Fas</span><span class="kc">t</span><span class="err">E</span><span class="kc">t</span><span class="err">her</span><span class="kc">net</span><span class="mi">0</span><span class="err">&#39;</span><span class="p">,</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="err">&#39;ipaddr&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;u</span><span class="kc">nass</span><span class="err">ig</span><span class="kc">ne</span><span class="err">d&#39;</span><span class="p">,</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="err">&#39;pro</span><span class="kc">t</span><span class="err">o&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;dow</span><span class="kc">n</span><span class="err">&#39;</span><span class="p">,</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="err">&#39;s</span><span class="kc">tatus</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;dow</span><span class="kc">n</span><span class="err">&#39;</span><span class="p">},</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="p">{</span><span class="err">&#39;i</span><span class="kc">ntf</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;Fas</span><span class="kc">t</span><span class="err">E</span><span class="kc">t</span><span class="err">her</span><span class="kc">net</span><span class="mi">1</span><span class="err">&#39;</span><span class="p">,</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="err">&#39;ipaddr&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;u</span><span class="kc">nass</span><span class="err">ig</span><span class="kc">ne</span><span class="err">d&#39;</span><span class="p">,</span>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="err">&#39;pro</span><span class="kc">t</span><span class="err">o&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;dow</span><span class="kc">n</span><span class="err">&#39;</span><span class="p">,</span>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="err">&#39;s</span><span class="kc">tatus</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;dow</span><span class="kc">n</span><span class="err">&#39;</span><span class="p">},</span>
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="p">{</span><span class="err">&#39;i</span><span class="kc">ntf</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;Fas</span><span class="kc">t</span><span class="err">E</span><span class="kc">t</span><span class="err">her</span><span class="kc">net</span><span class="mi">2</span><span class="err">&#39;</span><span class="p">,</span>
<a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="err">&#39;ipaddr&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;u</span><span class="kc">nass</span><span class="err">ig</span><span class="kc">ne</span><span class="err">d&#39;</span><span class="p">,</span>
<a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="err">&#39;pro</span><span class="kc">t</span><span class="err">o&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;dow</span><span class="kc">n</span><span class="err">&#39;</span><span class="p">,</span>
<a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="err">&#39;s</span><span class="kc">tatus</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;dow</span><span class="kc">n</span><span class="err">&#39;</span><span class="p">},</span>
<a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="p">{</span><span class="err">&#39;i</span><span class="kc">ntf</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;Fas</span><span class="kc">t</span><span class="err">E</span><span class="kc">t</span><span class="err">her</span><span class="kc">net</span><span class="mi">3</span><span class="err">&#39;</span><span class="p">,</span>
<a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="err">&#39;ipaddr&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;u</span><span class="kc">nass</span><span class="err">ig</span><span class="kc">ne</span><span class="err">d&#39;</span><span class="p">,</span>
<a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="err">&#39;pro</span><span class="kc">t</span><span class="err">o&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;dow</span><span class="kc">n</span><span class="err">&#39;</span><span class="p">,</span>
<a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a><span class="err">&#39;s</span><span class="kc">tatus</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;dow</span><span class="kc">n</span><span class="err">&#39;</span><span class="p">},</span>
<a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a><span class="p">{</span><span class="err">&#39;i</span><span class="kc">ntf</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;Fas</span><span class="kc">t</span><span class="err">E</span><span class="kc">t</span><span class="err">her</span><span class="kc">net</span><span class="mi">4</span><span class="err">&#39;</span><span class="p">,</span>
<a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a><span class="err">&#39;ipaddr&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;</span><span class="mf">10.220.88.20</span><span class="err">&#39;</span><span class="p">,</span>
<a id="__codelineno-23-21" name="__codelineno-23-21" href="#__codelineno-23-21"></a><span class="err">&#39;pro</span><span class="kc">t</span><span class="err">o&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;up&#39;</span><span class="p">,</span>
<a id="__codelineno-23-22" name="__codelineno-23-22" href="#__codelineno-23-22"></a><span class="err">&#39;s</span><span class="kc">tatus</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;up&#39;</span><span class="p">},</span>
<a id="__codelineno-23-23" name="__codelineno-23-23" href="#__codelineno-23-23"></a><span class="p">{</span><span class="err">&#39;i</span><span class="kc">ntf</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;Vla</span><span class="kc">n</span><span class="mi">1</span><span class="err">&#39;</span><span class="p">,</span>
<a id="__codelineno-23-24" name="__codelineno-23-24" href="#__codelineno-23-24"></a><span class="err">&#39;ipaddr&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;u</span><span class="kc">nass</span><span class="err">ig</span><span class="kc">ne</span><span class="err">d&#39;</span><span class="p">,</span>
<a id="__codelineno-23-25" name="__codelineno-23-25" href="#__codelineno-23-25"></a><span class="err">&#39;pro</span><span class="kc">t</span><span class="err">o&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;dow</span><span class="kc">n</span><span class="err">&#39;</span><span class="p">,</span>
<a id="__codelineno-23-26" name="__codelineno-23-26" href="#__codelineno-23-26"></a><span class="err">&#39;s</span><span class="kc">tatus</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;dow</span><span class="kc">n</span><span class="err">&#39;</span><span class="p">}]</span>
</code></pre></div></p>
<h3 id="using-ttp">Using TTP</h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="n">cisco1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">(),</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="p">}</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="c1">## write template to file</span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="n">ttp_raw_template</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="s2">interface {{ interface }}</span>
<a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="s2">description {{ description }}</span>
<a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="s2">&quot;&quot;&quot;</span>
<a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a>
<a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;show_run_interfaces.ttp&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">writer</span><span class="p">:</span>
<a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a><span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ttp_raw_template</span><span class="p">)</span>
<a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a>
<a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a><span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;show run | s interfaces&quot;</span>
<a id="__codelineno-24-22" name="__codelineno-24-22" href="#__codelineno-24-22"></a><span class="k">with</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">cisco1</span><span class="p">)</span> <span class="k">as</span> <span class="n">net_connect</span><span class="p">:</span>
<a id="__codelineno-24-23" name="__codelineno-24-23" href="#__codelineno-24-23"></a><span class="c1">## Use TTP to retrieve structured data</span>
<a id="__codelineno-24-24" name="__codelineno-24-24" href="#__codelineno-24-24"></a><span class="n">output</span> <span class="o">=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span>
<a id="__codelineno-24-25" name="__codelineno-24-25" href="#__codelineno-24-25"></a><span class="n">command</span><span class="p">,</span> <span class="n">use_ttp</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ttp_template</span><span class="o">=</span><span class="s2">&quot;show_run_interfaces.ttp&quot;</span>
<a id="__codelineno-24-26" name="__codelineno-24-26" href="#__codelineno-24-26"></a>     <span class="p">)</span>
<a id="__codelineno-24-27" name="__codelineno-24-27" href="#__codelineno-24-27"></a>
<a id="__codelineno-24-28" name="__codelineno-24-28" href="#__codelineno-24-28"></a><span class="nb">print</span><span class="p">()</span>
<a id="__codelineno-24-29" name="__codelineno-24-29" href="#__codelineno-24-29"></a><span class="n">pprint</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
<a id="__codelineno-24-30" name="__codelineno-24-30" href="#__codelineno-24-30"></a><span class="nb">print</span><span class="p">()</span>
</code></pre></div>
!!!note Output:
     <div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="p">[[[{</span><span class="err">&#39;descrip</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;Rou</span><span class="kc">ter</span><span class="mi">-</span><span class="err">id</span><span class="mi">-</span><span class="err">loopback&#39;</span><span class="p">,</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="err">&#39;i</span><span class="kc">nterfa</span><span class="err">ce&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;Loopback</span><span class="mi">0</span><span class="err">&#39;</span><span class="p">},</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="p">{</span><span class="err">&#39;descrip</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;CPE_Acces_Vla</span><span class="kc">n</span><span class="err">&#39;</span><span class="p">,</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="err">&#39;i</span><span class="kc">nterfa</span><span class="err">ce&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;Vla</span><span class="kc">n</span><span class="mi">778</span><span class="err">&#39;</span><span class="p">}]]]</span>
</code></pre></div></p>
<h3 id="using-genie">Using Genie</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="n">device</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">()</span>
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="p">}</span>
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a>
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="k">with</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">device</span><span class="p">)</span> <span class="k">as</span> <span class="n">net_connect</span><span class="p">:</span>
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="n">output</span> <span class="o">=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="s2">&quot;show ip interface brief&quot;</span><span class="p">,</span> <span class="n">use_genie</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a>
<a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a><span class="nb">print</span><span class="p">()</span>
<a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a><span class="n">pprint</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
<a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a><span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<p>!!!note Output:
     <div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nx">$</span><span class="w"> </span><span class="nx">python</span><span class="w"> </span><span class="nx">send_command_genie</span><span class="p">.</span><span class="nx">py</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="nx">Password</span><span class="o">:</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="p">{</span><span class="s1">&#39;interface&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;FastEthernet0&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;interface_is_ok&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;YES&#39;</span><span class="p">,</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="s1">&#39;ip_address&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;unassigned&#39;</span><span class="p">,</span>
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="s1">&#39;method&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;unset&#39;</span><span class="p">,</span>
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>
<a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="s1">&#39;protocol&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;down&#39;</span><span class="p">,</span>
<a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="s1">&#39;status&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;down&#39;</span><span class="p">},</span>
<a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a>
<a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="s1">&#39;FastEthernet1&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;interface_is_ok&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;YES&#39;</span><span class="p">,</span>
<a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a><span class="s1">&#39;ip_address&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;unassigned&#39;</span><span class="p">,</span>
<a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a><span class="s1">&#39;method&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;unset&#39;</span><span class="p">,</span>
<a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a><span class="s1">&#39;protocol&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;down&#39;</span><span class="p">,</span>
<a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a><span class="s1">&#39;status&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;down&#39;</span><span class="p">},</span>
<a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a><span class="s1">&#39;FastEthernet2&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;interface_is_ok&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;YES&#39;</span><span class="p">,</span>
<a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a><span class="s1">&#39;ip_address&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;unassigned&#39;</span><span class="p">,</span>
<a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a><span class="s1">&#39;method&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;unset&#39;</span><span class="p">,</span>
<a id="__codelineno-27-20" name="__codelineno-27-20" href="#__codelineno-27-20"></a><span class="s1">&#39;protocol&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;down&#39;</span><span class="p">,</span>
<a id="__codelineno-27-21" name="__codelineno-27-21" href="#__codelineno-27-21"></a><span class="s1">&#39;status&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;down&#39;</span><span class="p">},</span>
<a id="__codelineno-27-22" name="__codelineno-27-22" href="#__codelineno-27-22"></a><span class="s1">&#39;FastEthernet3&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;interface_is_ok&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;YES&#39;</span><span class="p">,</span>
<a id="__codelineno-27-23" name="__codelineno-27-23" href="#__codelineno-27-23"></a><span class="s1">&#39;ip_address&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;unassigned&#39;</span><span class="p">,</span>
<a id="__codelineno-27-24" name="__codelineno-27-24" href="#__codelineno-27-24"></a><span class="s1">&#39;method&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;unset&#39;</span><span class="p">,</span>
<a id="__codelineno-27-25" name="__codelineno-27-25" href="#__codelineno-27-25"></a><span class="s1">&#39;protocol&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;down&#39;</span><span class="p">,</span>
<a id="__codelineno-27-26" name="__codelineno-27-26" href="#__codelineno-27-26"></a><span class="s1">&#39;status&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;down&#39;</span><span class="p">},</span>
<a id="__codelineno-27-27" name="__codelineno-27-27" href="#__codelineno-27-27"></a><span class="s1">&#39;FastEthernet4&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;interface_is_ok&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;YES&#39;</span><span class="p">,</span>
<a id="__codelineno-27-28" name="__codelineno-27-28" href="#__codelineno-27-28"></a><span class="s1">&#39;ip_address&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;10.220.88.20&#39;</span><span class="p">,</span>
<a id="__codelineno-27-29" name="__codelineno-27-29" href="#__codelineno-27-29"></a><span class="s1">&#39;method&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;NVRAM&#39;</span><span class="p">,</span>
<a id="__codelineno-27-30" name="__codelineno-27-30" href="#__codelineno-27-30"></a><span class="s1">&#39;protocol&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;up&#39;</span><span class="p">,</span>
<a id="__codelineno-27-31" name="__codelineno-27-31" href="#__codelineno-27-31"></a><span class="s1">&#39;status&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;up&#39;</span><span class="p">},</span>
<a id="__codelineno-27-32" name="__codelineno-27-32" href="#__codelineno-27-32"></a><span class="s1">&#39;Vlan1&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;interface_is_ok&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;YES&#39;</span><span class="p">,</span>
<a id="__codelineno-27-33" name="__codelineno-27-33" href="#__codelineno-27-33"></a><span class="s1">&#39;ip_address&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;unassigned&#39;</span><span class="p">,</span>
<a id="__codelineno-27-34" name="__codelineno-27-34" href="#__codelineno-27-34"></a><span class="s1">&#39;method&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;unset&#39;</span><span class="p">,</span>
<a id="__codelineno-27-35" name="__codelineno-27-35" href="#__codelineno-27-35"></a><span class="s1">&#39;protocol&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;down&#39;</span><span class="p">,</span>
<a id="__codelineno-27-36" name="__codelineno-27-36" href="#__codelineno-27-36"></a>
<a id="__codelineno-27-37" name="__codelineno-27-37" href="#__codelineno-27-37"></a><span class="s1">&#39;status&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;down&#39;</span><span class="p">}}}</span>
</code></pre></div></p>
<h3 id="handling-commands-that-prompt-timing">Handling commands that prompt (timing)</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="n">cisco1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">(),</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="p">}</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;del flash:/test3.txt&quot;</span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="n">net_connect</span> <span class="o">=</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">cisco1</span><span class="p">)</span>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="c1">## CLI Interaction is as follows:</span>
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="c1">## cisco1#delete flash:/testb.txt</span>
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="c1">## Delete filename [testb.txt]?</span>
<a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="c1">## Delete flash:/testb.txt? [confirm]y</span>
<a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a>
<a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a><span class="c1">## Use &#39;send_command_timing&#39; which is entirely delay based.</span>
<a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a><span class="c1">## strip_prompt=False and strip_command=False make the output</span>
<a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a><span class="c1">## easier to read in this context.</span>
<a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a><span class="n">output</span> <span class="o">=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_command_timing</span><span class="p">(</span>
<a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a><span class="n">command_string</span><span class="o">=</span><span class="n">command</span><span class="p">,</span>
<a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a><span class="n">strip_prompt</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a><span class="n">strip_command</span><span class="o">=</span><span class="kc">False</span>
<a id="__codelineno-28-26" name="__codelineno-28-26" href="#__codelineno-28-26"></a><span class="p">)</span>
<a id="__codelineno-28-27" name="__codelineno-28-27" href="#__codelineno-28-27"></a><span class="k">if</span> <span class="s2">&quot;Delete filename&quot;</span> <span class="ow">in</span> <span class="n">output</span><span class="p">:</span>
<a id="__codelineno-28-28" name="__codelineno-28-28" href="#__codelineno-28-28"></a><span class="n">output</span> <span class="o">+=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_command_timing</span><span class="p">(</span>
<a id="__codelineno-28-29" name="__codelineno-28-29" href="#__codelineno-28-29"></a><span class="n">command_string</span><span class="o">=</span><span class="s2">&quot;</span>
<a id="__codelineno-28-30" name="__codelineno-28-30" href="#__codelineno-28-30"></a><span class="s2">&quot;,</span>
<a id="__codelineno-28-31" name="__codelineno-28-31" href="#__codelineno-28-31"></a><span class="n">strip_prompt</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-28-32" name="__codelineno-28-32" href="#__codelineno-28-32"></a><span class="n">strip_command</span><span class="o">=</span><span class="kc">False</span>
<a id="__codelineno-28-33" name="__codelineno-28-33" href="#__codelineno-28-33"></a><span class="p">)</span>
<a id="__codelineno-28-34" name="__codelineno-28-34" href="#__codelineno-28-34"></a><span class="k">if</span> <span class="s2">&quot;confirm&quot;</span> <span class="ow">in</span> <span class="n">output</span><span class="p">:</span>
<a id="__codelineno-28-35" name="__codelineno-28-35" href="#__codelineno-28-35"></a><span class="n">output</span> <span class="o">+=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_command_timing</span><span class="p">(</span>
<a id="__codelineno-28-36" name="__codelineno-28-36" href="#__codelineno-28-36"></a><span class="n">command_string</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span>
<a id="__codelineno-28-37" name="__codelineno-28-37" href="#__codelineno-28-37"></a><span class="n">strip_prompt</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-28-38" name="__codelineno-28-38" href="#__codelineno-28-38"></a><span class="n">strip_command</span><span class="o">=</span><span class="kc">False</span>
<a id="__codelineno-28-39" name="__codelineno-28-39" href="#__codelineno-28-39"></a><span class="p">)</span>
<a id="__codelineno-28-40" name="__codelineno-28-40" href="#__codelineno-28-40"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
<a id="__codelineno-28-41" name="__codelineno-28-41" href="#__codelineno-28-41"></a>
<a id="__codelineno-28-42" name="__codelineno-28-42" href="#__codelineno-28-42"></a><span class="nb">print</span><span class="p">()</span>
<a id="__codelineno-28-43" name="__codelineno-28-43" href="#__codelineno-28-43"></a><span class="nb">print</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
<a id="__codelineno-28-44" name="__codelineno-28-44" href="#__codelineno-28-44"></a>     <span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<p>!!!note Output:
     <div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>Password:
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>del<span class="w"> </span>flash:/test3.txt
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>Delete<span class="w"> </span>filename<span class="w"> </span><span class="o">[</span>test3.txt<span class="o">]</span>?
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>Delete<span class="w"> </span>flash:/test3.txt?<span class="w"> </span><span class="o">[</span>confirm<span class="o">]</span>y
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>cisco1#
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>cisco1#
</code></pre></div></p>
<h3 id="handling-commands-that-prompt-expect_string">Handling commands that prompt (expect_string)</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="n">cisco1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">(),</span>
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="p">}</span>
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a>
<a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;del flash:/test4.txt&quot;</span>
<a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a><span class="n">net_connect</span> <span class="o">=</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">cisco1</span><span class="p">)</span>
<a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a>
<a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a><span class="c1">## CLI Interaction is as follows:</span>
<a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a><span class="c1">## cisco1#delete flash:/testb.txt</span>
<a id="__codelineno-30-16" name="__codelineno-30-16" href="#__codelineno-30-16"></a><span class="c1">## Delete filename [testb.txt]?</span>
<a id="__codelineno-30-17" name="__codelineno-30-17" href="#__codelineno-30-17"></a><span class="c1">## Delete flash:/testb.txt? [confirm]y</span>
<a id="__codelineno-30-18" name="__codelineno-30-18" href="#__codelineno-30-18"></a>
<a id="__codelineno-30-19" name="__codelineno-30-19" href="#__codelineno-30-19"></a><span class="c1">## Use &#39;send_command&#39; and the &#39;expect_string&#39; argument (note, expect_string uses</span>
<a id="__codelineno-30-20" name="__codelineno-30-20" href="#__codelineno-30-20"></a><span class="c1">## RegEx patterns). Netmiko will move-on to the next command when the</span>
<a id="__codelineno-30-21" name="__codelineno-30-21" href="#__codelineno-30-21"></a><span class="c1">## &#39;expect_string&#39; is detected.</span>
<a id="__codelineno-30-22" name="__codelineno-30-22" href="#__codelineno-30-22"></a>
<a id="__codelineno-30-23" name="__codelineno-30-23" href="#__codelineno-30-23"></a><span class="c1">## strip_prompt=False and strip_command=False make the output</span>
<a id="__codelineno-30-24" name="__codelineno-30-24" href="#__codelineno-30-24"></a><span class="c1">## easier to read in this context.</span>
<a id="__codelineno-30-25" name="__codelineno-30-25" href="#__codelineno-30-25"></a><span class="n">output</span> <span class="o">=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span>
<a id="__codelineno-30-26" name="__codelineno-30-26" href="#__codelineno-30-26"></a><span class="n">command_string</span><span class="o">=</span><span class="n">command</span><span class="p">,</span>
<a id="__codelineno-30-27" name="__codelineno-30-27" href="#__codelineno-30-27"></a><span class="n">expect_string</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;Delete filename&quot;</span><span class="p">,</span>
<a id="__codelineno-30-28" name="__codelineno-30-28" href="#__codelineno-30-28"></a><span class="n">strip_prompt</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-30-29" name="__codelineno-30-29" href="#__codelineno-30-29"></a><span class="n">strip_command</span><span class="o">=</span><span class="kc">False</span>
<a id="__codelineno-30-30" name="__codelineno-30-30" href="#__codelineno-30-30"></a><span class="p">)</span>
<a id="__codelineno-30-31" name="__codelineno-30-31" href="#__codelineno-30-31"></a><span class="n">output</span> <span class="o">+=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span>
<a id="__codelineno-30-32" name="__codelineno-30-32" href="#__codelineno-30-32"></a><span class="n">command_string</span><span class="o">=</span><span class="s2">&quot;</span>
<a id="__codelineno-30-33" name="__codelineno-30-33" href="#__codelineno-30-33"></a><span class="s2">&quot;,</span>
<a id="__codelineno-30-34" name="__codelineno-30-34" href="#__codelineno-30-34"></a><span class="n">expect_string</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;confirm&quot;</span><span class="p">,</span>
<a id="__codelineno-30-35" name="__codelineno-30-35" href="#__codelineno-30-35"></a><span class="n">strip_prompt</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-30-36" name="__codelineno-30-36" href="#__codelineno-30-36"></a><span class="n">strip_command</span><span class="o">=</span><span class="kc">False</span>
<a id="__codelineno-30-37" name="__codelineno-30-37" href="#__codelineno-30-37"></a><span class="p">)</span>
<a id="__codelineno-30-38" name="__codelineno-30-38" href="#__codelineno-30-38"></a><span class="n">output</span> <span class="o">+=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span>
<a id="__codelineno-30-39" name="__codelineno-30-39" href="#__codelineno-30-39"></a><span class="n">command_string</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span>
<a id="__codelineno-30-40" name="__codelineno-30-40" href="#__codelineno-30-40"></a><span class="n">expect_string</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;#&quot;</span><span class="p">,</span>
<a id="__codelineno-30-41" name="__codelineno-30-41" href="#__codelineno-30-41"></a><span class="n">strip_prompt</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-30-42" name="__codelineno-30-42" href="#__codelineno-30-42"></a><span class="n">strip_command</span><span class="o">=</span><span class="kc">False</span>
<a id="__codelineno-30-43" name="__codelineno-30-43" href="#__codelineno-30-43"></a><span class="p">)</span>
<a id="__codelineno-30-44" name="__codelineno-30-44" href="#__codelineno-30-44"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
<a id="__codelineno-30-45" name="__codelineno-30-45" href="#__codelineno-30-45"></a>
<a id="__codelineno-30-46" name="__codelineno-30-46" href="#__codelineno-30-46"></a><span class="nb">print</span><span class="p">()</span>
<a id="__codelineno-30-47" name="__codelineno-30-47" href="#__codelineno-30-47"></a><span class="nb">print</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
<a id="__codelineno-30-48" name="__codelineno-30-48" href="#__codelineno-30-48"></a><span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<p>!!!note Output:
     <div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>$ python send_command_prompting_expect.py
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>Password:
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a>del flash:/test4.txt
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a>Delete filename [test4.txt]?
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>Delete flash:/test4.txt? [confirm]y
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a>cisco1#
</code></pre></div></p>
<h3 id="configuration-changes">Configuration changes</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="ch">#!/usr/bin/env python</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="n">device</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">(),</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="p">}</span>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="n">commands</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;logging buffered 100000&quot;</span><span class="p">]</span>
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a><span class="k">with</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">device</span><span class="p">)</span> <span class="k">as</span> <span class="n">net_connect</span><span class="p">:</span>
<a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a><span class="n">output</span> <span class="o">=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_config_set</span><span class="p">(</span><span class="n">commands</span><span class="p">)</span>
<a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a><span class="n">output</span> <span class="o">+=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">save_config</span><span class="p">()</span>
<a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a>
<a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a><span class="nb">print</span><span class="p">()</span>
<a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a><span class="nb">print</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
<a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a><span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<p>!!!note Output:
     <div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>$<span class="w"> </span>python<span class="w"> </span>config_change.py
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>Password:
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>configure<span class="w"> </span>terminal
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>Enter<span class="w"> </span>configuration<span class="w"> </span>commands,<span class="w"> </span>one<span class="w"> </span>per<span class="w"> </span>line.<span class="w">  </span>End<span class="w"> </span>with<span class="w"> </span>CNTL/Z.
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>cisco1<span class="o">(</span>config<span class="o">)</span><span class="c1">#logging buffered 100000</span>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a>cisco1<span class="o">(</span>config<span class="o">)</span><span class="c1">#end</span>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a>cisco1#write<span class="w"> </span>mem
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>Building<span class="w"> </span>configuration...
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="o">[</span>OK<span class="o">]</span>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a>cisco1#
</code></pre></div></p>
<h3 id="configuration-changes-from-a-file">Configuration changes from a file</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="ch">#!/usr/bin/env python</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="n">device1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">(),</span>
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a><span class="p">}</span>
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a>
<a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a><span class="c1">## File in same directory as script that contains</span>
<a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a><span class="c1">#</span>
<a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a><span class="c1">## $ cat config_changes.txt</span>
<a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a><span class="c1">## --------------</span>
<a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a><span class="c1">## logging buffered 100000</span>
<a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a><span class="c1">## no logging console</span>
<a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a>
<a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a><span class="n">cfg_file</span> <span class="o">=</span> <span class="s2">&quot;config_changes.txt&quot;</span>
<a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a><span class="k">with</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">device1</span><span class="p">)</span> <span class="k">as</span> <span class="n">net_connect</span><span class="p">:</span>
<a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a><span class="n">output</span> <span class="o">=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_config_from_file</span><span class="p">(</span><span class="n">cfg_file</span><span class="p">)</span>
<a id="__codelineno-34-22" name="__codelineno-34-22" href="#__codelineno-34-22"></a><span class="n">output</span> <span class="o">+=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">save_config</span><span class="p">()</span>
<a id="__codelineno-34-23" name="__codelineno-34-23" href="#__codelineno-34-23"></a>
<a id="__codelineno-34-24" name="__codelineno-34-24" href="#__codelineno-34-24"></a><span class="nb">print</span><span class="p">()</span>
<a id="__codelineno-34-25" name="__codelineno-34-25" href="#__codelineno-34-25"></a><span class="nb">print</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
<a id="__codelineno-34-26" name="__codelineno-34-26" href="#__codelineno-34-26"></a><span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<h4 id="netmiko-will-automatically-enter-and-exit-config-mode">Netmiko will automatically enter and exit config mode.</h4>
<p>!!!note Output:
          ```bash
          $ python config_change_file.py
          Password:</p>
<div class="highlight"><pre><span></span><code>      configure terminal
      Enter configuration commands, one per line.  End with CNTL/Z.
      cisco1(config)#logging buffered 100000
      cisco1(config)#no logging console
      cisco1(config)#end
      cisco1#write mem
      Building configuration...
      [OK]
      cisco1#
           ```
</code></pre></div>
<h3 id="ssh-keys">SSH keys</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="n">key_file</span> <span class="o">=</span> <span class="s2">&quot;~/.ssh/test_rsa&quot;</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="n">cisco1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;testuser&quot;</span><span class="p">,</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="s2">&quot;use_keys&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="s2">&quot;key_file&quot;</span><span class="p">:</span> <span class="n">key_file</span><span class="p">,</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="p">}</span>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="k">with</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">cisco1</span><span class="p">)</span> <span class="k">as</span> <span class="n">net_connect</span><span class="p">:</span>
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="n">output</span> <span class="o">=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="s2">&quot;show ip arp&quot;</span><span class="p">)</span>
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a>
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">output</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="ssh-config-file">SSH Config File</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="ch">#!/usr/bin/env python</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="n">cisco1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">(),</span>
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="s2">&quot;ssh_config_file&quot;</span><span class="p">:</span> <span class="s2">&quot;~/.ssh/ssh_config&quot;</span><span class="p">,</span>
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="p">}</span>
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a>
<a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a><span class="k">with</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">cisco1</span><span class="p">)</span> <span class="k">as</span> <span class="n">net_connect</span><span class="p">:</span>
<a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a><span class="n">output</span> <span class="o">=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="s2">&quot;show users&quot;</span><span class="p">)</span>
<a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a>
<a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a><span class="nb">print</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
</code></pre></div>
<h4 id="contents-of-ssh_config-file">Contents of 'ssh_config' file</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="na">host jumphost</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="na">IdentitiesOnly yes</span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="na">IdentityFile ~/.ssh/test_rsa</span>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="na">User gituser</span>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="na">HostName pynetqa.lasthop.io</span>
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a>
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="na">host * !jumphost</span>
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="na">User pyclass</span>
<a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="c1">## Force usage of this SSH config file</span>
<a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a><span class="na">ProxyCommand ssh -F ~/.ssh/ssh_config -W %h</span><span class="o">:</span><span class="s">%p jumphost</span>
<a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a><span class="c1">## Alternate solution using netcat</span>
<a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a><span class="c1">#ProxyCommand ssh -F ./ssh_config jumphost nc %h %p</span>
</code></pre></div>
<h3 id="session-log">Session log</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="ch">#!/usr/bin/env python</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="n">cisco1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">(),</span>
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="c1">## File name to save the &#39;session_log&#39; to</span>
<a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="s2">&quot;session_log&quot;</span><span class="p">:</span> <span class="s2">&quot;output.txt&quot;</span>
<a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="p">}</span>
<a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a>
<a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a><span class="c1">## Show command that we execute</span>
<a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a><span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;show ip int brief&quot;</span>
<a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a><span class="k">with</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">cisco1</span><span class="p">)</span> <span class="k">as</span> <span class="n">net_connect</span><span class="p">:</span>
<a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a><span class="n">output</span> <span class="o">=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</code></pre></div>
<h4 id="contents-of-outputtxt-after-execution">Contents of 'output.txt' after execution</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>$<span class="w"> </span>cat<span class="w"> </span>output.txt
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a>cisco1#
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>cisco1#terminal<span class="w"> </span>length<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a>cisco1#terminal<span class="w"> </span>width<span class="w"> </span><span class="m">511</span>
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a>cisco1#
<a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a>cisco1#show<span class="w"> </span>ip<span class="w"> </span>int<span class="w"> </span>brief
<a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a>Interface
<a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a>IP-<span class="w">    </span>OK?<span class="w"> </span>Method<span class="w"> </span>Status<span class="w">    </span>Protocol
<a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a>FastEthernet0<span class="w">    </span>unassignedYES<span class="w"> </span><span class="nb">unset</span><span class="w">      </span>down
<a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a>FastEthernet1<span class="w">    </span>unassignedYES<span class="w"> </span><span class="nb">unset</span><span class="w">      </span>down
<a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a>FastEthernet2<span class="w">    </span>unassignedYES<span class="w"> </span><span class="nb">unset</span><span class="w">      </span>down
<a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a>FastEthernet3<span class="w">    </span>unassignedYES<span class="w"> </span><span class="nb">unset</span><span class="w">      </span>down
<a id="__codelineno-39-14" name="__codelineno-39-14" href="#__codelineno-39-14"></a>FastEthernet4<span class="w">    </span><span class="m">10</span>.220.88.20<span class="w">    </span>YES<span class="w"> </span>NVRAM<span class="w">  </span>up<span class="w">    </span>up
<a id="__codelineno-39-15" name="__codelineno-39-15" href="#__codelineno-39-15"></a>Vlan1<span class="w">    </span>unassignedYES<span class="w"> </span><span class="nb">unset</span><span class="w">      </span>down
<a id="__codelineno-39-16" name="__codelineno-39-16" href="#__codelineno-39-16"></a>cisco1#
<a id="__codelineno-39-17" name="__codelineno-39-17" href="#__codelineno-39-17"></a>cisco1#exit
</code></pre></div>
<h3 id="standard-logging">Standard Logging</h3>
<p>The below will create a file named "test.log". This file will contain a lot of
low-level details.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="c1"># Logging section ##############</span>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="kn">import</span> <span class="nn">logging</span>
<a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a>
<a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;test.log&quot;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
<a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;netmiko&quot;</span><span class="p">)</span>
<a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a><span class="c1"># Logging section ##############</span>
<a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a>
<a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a><span class="n">cisco1</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-40-13" name="__codelineno-40-13" href="#__codelineno-40-13"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-40-14" name="__codelineno-40-14" href="#__codelineno-40-14"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-40-15" name="__codelineno-40-15" href="#__codelineno-40-15"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">(),</span>
<a id="__codelineno-40-16" name="__codelineno-40-16" href="#__codelineno-40-16"></a><span class="p">}</span>
<a id="__codelineno-40-17" name="__codelineno-40-17" href="#__codelineno-40-17"></a>
<a id="__codelineno-40-18" name="__codelineno-40-18" href="#__codelineno-40-18"></a><span class="n">net_connect</span> <span class="o">=</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">cisco1</span><span class="p">)</span>
<a id="__codelineno-40-19" name="__codelineno-40-19" href="#__codelineno-40-19"></a><span class="nb">print</span><span class="p">(</span><span class="n">net_connect</span><span class="o">.</span><span class="n">find_prompt</span><span class="p">())</span>
<a id="__codelineno-40-20" name="__codelineno-40-20" href="#__codelineno-40-20"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</code></pre></div>
<h3 id="secure-copy">Secure Copy</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span><span class="p">,</span> <span class="n">file_transfer</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="n">cisco</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_ios&quot;</span><span class="p">,</span>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">(),</span>
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="p">}</span>
<a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a>
<a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="c1">## A secure copy server must be enable on the device (&#39;ip scp server enable&#39;)</span>
<a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a><span class="n">source_file</span> <span class="o">=</span> <span class="s2">&quot;test1.txt&quot;</span>
<a id="__codelineno-41-13" name="__codelineno-41-13" href="#__codelineno-41-13"></a><span class="n">dest_file</span> <span class="o">=</span> <span class="s2">&quot;test1.txt&quot;</span>
<a id="__codelineno-41-14" name="__codelineno-41-14" href="#__codelineno-41-14"></a><span class="n">direction</span> <span class="o">=</span> <span class="s2">&quot;put&quot;</span>
<a id="__codelineno-41-15" name="__codelineno-41-15" href="#__codelineno-41-15"></a><span class="n">file_system</span> <span class="o">=</span> <span class="s2">&quot;flash:&quot;</span>
<a id="__codelineno-41-16" name="__codelineno-41-16" href="#__codelineno-41-16"></a>
<a id="__codelineno-41-17" name="__codelineno-41-17" href="#__codelineno-41-17"></a><span class="n">ssh_conn</span> <span class="o">=</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">cisco</span><span class="p">)</span>
<a id="__codelineno-41-18" name="__codelineno-41-18" href="#__codelineno-41-18"></a><span class="n">transfer_dict</span> <span class="o">=</span> <span class="n">file_transfer</span><span class="p">(</span>
<a id="__codelineno-41-19" name="__codelineno-41-19" href="#__codelineno-41-19"></a><span class="n">ssh_conn</span><span class="p">,</span>
<a id="__codelineno-41-20" name="__codelineno-41-20" href="#__codelineno-41-20"></a><span class="n">source_file</span><span class="o">=</span><span class="n">source_file</span><span class="p">,</span>
<a id="__codelineno-41-21" name="__codelineno-41-21" href="#__codelineno-41-21"></a><span class="n">dest_file</span><span class="o">=</span><span class="n">dest_file</span><span class="p">,</span>
<a id="__codelineno-41-22" name="__codelineno-41-22" href="#__codelineno-41-22"></a><span class="n">file_system</span><span class="o">=</span><span class="n">file_system</span><span class="p">,</span>
<a id="__codelineno-41-23" name="__codelineno-41-23" href="#__codelineno-41-23"></a><span class="n">direction</span><span class="o">=</span><span class="n">direction</span><span class="p">,</span>
<a id="__codelineno-41-24" name="__codelineno-41-24" href="#__codelineno-41-24"></a><span class="c1">## Force an overwrite of the file if it already exists</span>
<a id="__codelineno-41-25" name="__codelineno-41-25" href="#__codelineno-41-25"></a><span class="n">overwrite_file</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-41-26" name="__codelineno-41-26" href="#__codelineno-41-26"></a><span class="p">)</span>
<a id="__codelineno-41-27" name="__codelineno-41-27" href="#__codelineno-41-27"></a>
<a id="__codelineno-41-28" name="__codelineno-41-28" href="#__codelineno-41-28"></a><span class="nb">print</span><span class="p">(</span><span class="n">transfer_dict</span><span class="p">)</span>
</code></pre></div>
<h3 id="auto-detection-using-ssh">Auto detection using SSH</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">SSHDetect</span><span class="p">,</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="n">device</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;autodetect&quot;</span><span class="p">,</span>
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">(),</span>
<a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a><span class="p">}</span>
<a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a>
<a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a><span class="n">guesser</span> <span class="o">=</span> <span class="n">SSHDetect</span><span class="p">(</span><span class="o">**</span><span class="n">device</span><span class="p">)</span>
<a id="__codelineno-42-12" name="__codelineno-42-12" href="#__codelineno-42-12"></a><span class="n">best_match</span> <span class="o">=</span> <span class="n">guesser</span><span class="o">.</span><span class="n">autodetect</span><span class="p">()</span>
<a id="__codelineno-42-13" name="__codelineno-42-13" href="#__codelineno-42-13"></a><span class="c1">#print(best_match)  # Name of the best device_type to use further</span>
<a id="__codelineno-42-14" name="__codelineno-42-14" href="#__codelineno-42-14"></a><span class="c1">#print(guesser.potential_matches)  # Dictionary of the whole matching result</span>
<a id="__codelineno-42-15" name="__codelineno-42-15" href="#__codelineno-42-15"></a><span class="c1">## Update the &#39;device&#39; dictionary with the device_type</span>
<a id="__codelineno-42-16" name="__codelineno-42-16" href="#__codelineno-42-16"></a><span class="n">device</span><span class="p">[</span><span class="s2">&quot;device_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">best_match</span>
<a id="__codelineno-42-17" name="__codelineno-42-17" href="#__codelineno-42-17"></a>
<a id="__codelineno-42-18" name="__codelineno-42-18" href="#__codelineno-42-18"></a><span class="k">with</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">device</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
<a id="__codelineno-42-19" name="__codelineno-42-19" href="#__codelineno-42-19"></a><span class="nb">print</span><span class="p">(</span><span class="n">connection</span><span class="o">.</span><span class="n">find_prompt</span><span class="p">())</span>
</code></pre></div>
<h3 id="auto-detection-using-snmpv2c">Auto detection using SNMPv2c</h3>
<p>Requires 'pysnmp'.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="kn">import</span> <span class="nn">sys</span>
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="kn">from</span> <span class="nn">netmiko.snmp_autodetect</span> <span class="kn">import</span> <span class="n">SNMPDetect</span>
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a>
<a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="n">host</span> <span class="o">=</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span>
<a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="n">device</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="n">host</span><span class="p">,</span>
<a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span>
<a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">()</span>
<a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a><span class="p">}</span>
<a id="__codelineno-43-12" name="__codelineno-43-12" href="#__codelineno-43-12"></a>
<a id="__codelineno-43-13" name="__codelineno-43-13" href="#__codelineno-43-13"></a><span class="n">snmp_community</span> <span class="o">=</span> <span class="n">getpass</span><span class="p">(</span><span class="s2">&quot;Enter SNMP community: &quot;</span><span class="p">)</span>
<a id="__codelineno-43-14" name="__codelineno-43-14" href="#__codelineno-43-14"></a><span class="n">my_snmp</span> <span class="o">=</span> <span class="n">SNMPDetect</span><span class="p">(</span>
<a id="__codelineno-43-15" name="__codelineno-43-15" href="#__codelineno-43-15"></a><span class="n">host</span><span class="p">,</span> <span class="n">snmp_version</span><span class="o">=</span><span class="s2">&quot;v2c&quot;</span><span class="p">,</span> <span class="n">community</span><span class="o">=</span><span class="n">snmp_community</span>
<a id="__codelineno-43-16" name="__codelineno-43-16" href="#__codelineno-43-16"></a><span class="p">)</span>
<a id="__codelineno-43-17" name="__codelineno-43-17" href="#__codelineno-43-17"></a><span class="n">device_type</span> <span class="o">=</span> <span class="n">my_snmp</span><span class="o">.</span><span class="n">autodetect</span><span class="p">()</span>
<a id="__codelineno-43-18" name="__codelineno-43-18" href="#__codelineno-43-18"></a><span class="nb">print</span><span class="p">(</span><span class="n">device_type</span><span class="p">)</span>
<a id="__codelineno-43-19" name="__codelineno-43-19" href="#__codelineno-43-19"></a>
<a id="__codelineno-43-20" name="__codelineno-43-20" href="#__codelineno-43-20"></a><span class="k">if</span> <span class="n">device_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-43-21" name="__codelineno-43-21" href="#__codelineno-43-21"></a><span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s2">&quot;SNMP failed!&quot;</span><span class="p">)</span>
<a id="__codelineno-43-22" name="__codelineno-43-22" href="#__codelineno-43-22"></a>
<a id="__codelineno-43-23" name="__codelineno-43-23" href="#__codelineno-43-23"></a><span class="c1">## Update the device dictionary with the device_type and connect</span>
<a id="__codelineno-43-24" name="__codelineno-43-24" href="#__codelineno-43-24"></a><span class="n">device</span><span class="p">[</span><span class="s2">&quot;device_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">device_type</span>
<a id="__codelineno-43-25" name="__codelineno-43-25" href="#__codelineno-43-25"></a><span class="k">with</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">device</span><span class="p">)</span> <span class="k">as</span> <span class="n">net_connect</span><span class="p">:</span>
<a id="__codelineno-43-26" name="__codelineno-43-26" href="#__codelineno-43-26"></a><span class="nb">print</span><span class="p">(</span><span class="n">net_connect</span><span class="o">.</span><span class="n">find_prompt</span><span class="p">())</span>
</code></pre></div>
<h3 id="auto-detection-using-snmpv3">Auto detection using SNMPv3</h3>
<p>Requires 'pysnmp'.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="kn">import</span> <span class="nn">sys</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="kn">from</span> <span class="nn">netmiko.snmp_autodetect</span> <span class="kn">import</span> <span class="n">SNMPDetect</span>
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span>
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a>
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="n">device</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span> <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;pyclass&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">getpass</span><span class="p">()}</span>
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a>
<a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a><span class="n">snmp_key</span> <span class="o">=</span> <span class="n">getpass</span><span class="p">(</span><span class="s2">&quot;Enter SNMP community: &quot;</span><span class="p">)</span>
<a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a><span class="n">my_snmp</span> <span class="o">=</span> <span class="n">SNMPDetect</span><span class="p">(</span>
<a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a><span class="s2">&quot;cisco1.lasthop.io&quot;</span><span class="p">,</span>
<a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a><span class="n">snmp_version</span><span class="o">=</span><span class="s2">&quot;v3&quot;</span><span class="p">,</span>
<a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a><span class="n">user</span><span class="o">=</span><span class="s2">&quot;pysnmp&quot;</span><span class="p">,</span>
<a id="__codelineno-44-13" name="__codelineno-44-13" href="#__codelineno-44-13"></a><span class="n">auth_key</span><span class="o">=</span><span class="n">snmp_key</span><span class="p">,</span>
<a id="__codelineno-44-14" name="__codelineno-44-14" href="#__codelineno-44-14"></a><span class="n">encrypt_key</span><span class="o">=</span><span class="n">snmp_key</span><span class="p">,</span>
<a id="__codelineno-44-15" name="__codelineno-44-15" href="#__codelineno-44-15"></a><span class="n">auth_proto</span><span class="o">=</span><span class="s2">&quot;sha&quot;</span><span class="p">,</span>
<a id="__codelineno-44-16" name="__codelineno-44-16" href="#__codelineno-44-16"></a><span class="n">encrypt_proto</span><span class="o">=</span><span class="s2">&quot;aes128&quot;</span><span class="p">,</span>
<a id="__codelineno-44-17" name="__codelineno-44-17" href="#__codelineno-44-17"></a><span class="p">)</span>
<a id="__codelineno-44-18" name="__codelineno-44-18" href="#__codelineno-44-18"></a><span class="n">device_type</span> <span class="o">=</span> <span class="n">my_snmp</span><span class="o">.</span><span class="n">autodetect</span><span class="p">()</span>
<a id="__codelineno-44-19" name="__codelineno-44-19" href="#__codelineno-44-19"></a><span class="nb">print</span><span class="p">(</span><span class="n">device_type</span><span class="p">)</span>
<a id="__codelineno-44-20" name="__codelineno-44-20" href="#__codelineno-44-20"></a>
<a id="__codelineno-44-21" name="__codelineno-44-21" href="#__codelineno-44-21"></a><span class="k">if</span> <span class="n">device_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-44-22" name="__codelineno-44-22" href="#__codelineno-44-22"></a><span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s2">&quot;SNMP failed!&quot;</span><span class="p">)</span>
<a id="__codelineno-44-23" name="__codelineno-44-23" href="#__codelineno-44-23"></a>
<a id="__codelineno-44-24" name="__codelineno-44-24" href="#__codelineno-44-24"></a><span class="c1">## Update the device_type with information discovered using SNMP</span>
<a id="__codelineno-44-25" name="__codelineno-44-25" href="#__codelineno-44-25"></a><span class="n">device</span><span class="p">[</span><span class="s2">&quot;device_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">device_type</span>
<a id="__codelineno-44-26" name="__codelineno-44-26" href="#__codelineno-44-26"></a><span class="n">net_connect</span> <span class="o">=</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">device</span><span class="p">)</span>
<a id="__codelineno-44-27" name="__codelineno-44-27" href="#__codelineno-44-27"></a><span class="nb">print</span><span class="p">(</span><span class="n">net_connect</span><span class="o">.</span><span class="n">find_prompt</span><span class="p">())</span>
<a id="__codelineno-44-28" name="__codelineno-44-28" href="#__codelineno-44-28"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</code></pre></div>
<h3 id="terminal-server-and-redispatch">Terminal server and redispatch</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="sd">This is a complicated example.</span>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a>
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="sd">It illustrates both using a terminal server and bouncing through multiple</span>
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="sd">devices.</span>
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a>
<a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="sd">It also illustrates using &#39;redispatch()&#39; to change the Netmiko class.</span>
<a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a>
<a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a><span class="sd">The setup is:</span>
<a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a>
<a id="__codelineno-45-11" name="__codelineno-45-11" href="#__codelineno-45-11"></a><span class="sd">Linux Server</span>
<a id="__codelineno-45-12" name="__codelineno-45-12" href="#__codelineno-45-12"></a><span class="sd">--&gt; Small Switch (SSH)</span>
<a id="__codelineno-45-13" name="__codelineno-45-13" href="#__codelineno-45-13"></a><span class="sd">--&gt; Terminal Server (telnet)</span>
<a id="__codelineno-45-14" name="__codelineno-45-14" href="#__codelineno-45-14"></a>
<a id="__codelineno-45-15" name="__codelineno-45-15" href="#__codelineno-45-15"></a><span class="sd">--&gt; Juniper SRX (serial)</span>
<a id="__codelineno-45-16" name="__codelineno-45-16" href="#__codelineno-45-16"></a><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-45-17" name="__codelineno-45-17" href="#__codelineno-45-17"></a><span class="kn">import</span> <span class="nn">os</span>
<a id="__codelineno-45-18" name="__codelineno-45-18" href="#__codelineno-45-18"></a><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<a id="__codelineno-45-19" name="__codelineno-45-19" href="#__codelineno-45-19"></a><span class="kn">from</span> <span class="nn">netmiko</span> <span class="kn">import</span> <span class="n">ConnectHandler</span><span class="p">,</span> <span class="n">redispatch</span>
<a id="__codelineno-45-20" name="__codelineno-45-20" href="#__codelineno-45-20"></a>
<a id="__codelineno-45-21" name="__codelineno-45-21" href="#__codelineno-45-21"></a><span class="c1">## Hiding these IP addresses</span>
<a id="__codelineno-45-22" name="__codelineno-45-22" href="#__codelineno-45-22"></a><span class="n">terminal_server_ip</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;TERMINAL_SERVER_IP&quot;</span><span class="p">]</span>
<a id="__codelineno-45-23" name="__codelineno-45-23" href="#__codelineno-45-23"></a><span class="n">public_ip</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;PUBLIC_IP&quot;</span><span class="p">]</span>
<a id="__codelineno-45-24" name="__codelineno-45-24" href="#__codelineno-45-24"></a>
<a id="__codelineno-45-25" name="__codelineno-45-25" href="#__codelineno-45-25"></a><span class="n">s300_pass</span> <span class="o">=</span> <span class="n">getpass</span><span class="p">(</span><span class="s2">&quot;Enter password of s300: &quot;</span><span class="p">)</span>
<a id="__codelineno-45-26" name="__codelineno-45-26" href="#__codelineno-45-26"></a><span class="n">term_serv_pass</span> <span class="o">=</span> <span class="n">getpass</span><span class="p">(</span><span class="s2">&quot;Enter the terminal server password: &quot;</span><span class="p">)</span>
<a id="__codelineno-45-27" name="__codelineno-45-27" href="#__codelineno-45-27"></a><span class="n">srx2_pass</span> <span class="o">=</span> <span class="n">getpass</span><span class="p">(</span><span class="s2">&quot;Enter SRX2 password: &quot;</span><span class="p">)</span>
<a id="__codelineno-45-28" name="__codelineno-45-28" href="#__codelineno-45-28"></a>
<a id="__codelineno-45-29" name="__codelineno-45-29" href="#__codelineno-45-29"></a><span class="c1">## For internal reasons I have to bounce through this small switch to access</span>
<a id="__codelineno-45-30" name="__codelineno-45-30" href="#__codelineno-45-30"></a><span class="c1">## my terminal server.</span>
<a id="__codelineno-45-31" name="__codelineno-45-31" href="#__codelineno-45-31"></a><span class="n">device</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-45-32" name="__codelineno-45-32" href="#__codelineno-45-32"></a><span class="s2">&quot;device_type&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_s300&quot;</span><span class="p">,</span>
<a id="__codelineno-45-33" name="__codelineno-45-33" href="#__codelineno-45-33"></a><span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="n">public_ip</span><span class="p">,</span>
<a id="__codelineno-45-34" name="__codelineno-45-34" href="#__codelineno-45-34"></a><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
<a id="__codelineno-45-35" name="__codelineno-45-35" href="#__codelineno-45-35"></a><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">s300_pass</span><span class="p">,</span>
<a id="__codelineno-45-36" name="__codelineno-45-36" href="#__codelineno-45-36"></a><span class="s2">&quot;session_log&quot;</span><span class="p">:</span> <span class="s2">&quot;output.txt&quot;</span><span class="p">,</span>
<a id="__codelineno-45-37" name="__codelineno-45-37" href="#__codelineno-45-37"></a><span class="p">}</span>
<a id="__codelineno-45-38" name="__codelineno-45-38" href="#__codelineno-45-38"></a>
<a id="__codelineno-45-39" name="__codelineno-45-39" href="#__codelineno-45-39"></a><span class="c1">## Initial connection to the S300 switch</span>
<a id="__codelineno-45-40" name="__codelineno-45-40" href="#__codelineno-45-40"></a><span class="n">net_connect</span> <span class="o">=</span> <span class="n">ConnectHandler</span><span class="p">(</span><span class="o">**</span><span class="n">device</span><span class="p">)</span>
<a id="__codelineno-45-41" name="__codelineno-45-41" href="#__codelineno-45-41"></a><span class="nb">print</span><span class="p">(</span><span class="n">net_connect</span><span class="o">.</span><span class="n">find_prompt</span><span class="p">())</span>
<a id="__codelineno-45-42" name="__codelineno-45-42" href="#__codelineno-45-42"></a>
<a id="__codelineno-45-43" name="__codelineno-45-43" href="#__codelineno-45-43"></a><span class="c1">## Update the password as the terminal server uses different credentials</span>
<a id="__codelineno-45-44" name="__codelineno-45-44" href="#__codelineno-45-44"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">term_serv_pass</span>
<a id="__codelineno-45-45" name="__codelineno-45-45" href="#__codelineno-45-45"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">secret</span> <span class="o">=</span> <span class="n">term_serv_pass</span>
<a id="__codelineno-45-46" name="__codelineno-45-46" href="#__codelineno-45-46"></a><span class="c1">## Telnet to the terminal server</span>
<a id="__codelineno-45-47" name="__codelineno-45-47" href="#__codelineno-45-47"></a><span class="n">command</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;telnet </span><span class="si">{</span><span class="n">terminal_server_ip</span><span class="si">}</span><span class="se">\</span>
<a id="__codelineno-45-48" name="__codelineno-45-48" href="#__codelineno-45-48"></a><span class="s2">&quot;</span>
<a id="__codelineno-45-49" name="__codelineno-45-49" href="#__codelineno-45-49"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">write_channel</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
<a id="__codelineno-45-50" name="__codelineno-45-50" href="#__codelineno-45-50"></a><span class="c1">## Use the telnet_login() method to handle the login process</span>
<a id="__codelineno-45-51" name="__codelineno-45-51" href="#__codelineno-45-51"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">telnet_login</span><span class="p">()</span>
<a id="__codelineno-45-52" name="__codelineno-45-52" href="#__codelineno-45-52"></a><span class="nb">print</span><span class="p">(</span><span class="n">net_connect</span><span class="o">.</span><span class="n">find_prompt</span><span class="p">())</span>
<a id="__codelineno-45-53" name="__codelineno-45-53" href="#__codelineno-45-53"></a>
<a id="__codelineno-45-54" name="__codelineno-45-54" href="#__codelineno-45-54"></a><span class="c1">## Made it to the terminal server (this terminal server is &quot;cisco_ios&quot;)</span>
<a id="__codelineno-45-55" name="__codelineno-45-55" href="#__codelineno-45-55"></a><span class="c1">## Use redispatch to re-initialize the right class.</span>
<a id="__codelineno-45-56" name="__codelineno-45-56" href="#__codelineno-45-56"></a><span class="n">redispatch</span><span class="p">(</span><span class="n">net_connect</span><span class="p">,</span> <span class="n">device_type</span><span class="o">=</span><span class="s2">&quot;cisco_ios&quot;</span><span class="p">)</span>
<a id="__codelineno-45-57" name="__codelineno-45-57" href="#__codelineno-45-57"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">enable</span><span class="p">()</span>
<a id="__codelineno-45-58" name="__codelineno-45-58" href="#__codelineno-45-58"></a><span class="nb">print</span><span class="p">(</span><span class="n">net_connect</span><span class="o">.</span><span class="n">find_prompt</span><span class="p">())</span>
<a id="__codelineno-45-59" name="__codelineno-45-59" href="#__codelineno-45-59"></a>
<a id="__codelineno-45-60" name="__codelineno-45-60" href="#__codelineno-45-60"></a><span class="c1">## Now connect to the end-device via the terminal server (Juniper SRX2)</span>
<a id="__codelineno-45-61" name="__codelineno-45-61" href="#__codelineno-45-61"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">write_channel</span><span class="p">(</span><span class="s2">&quot;srx2</span><span class="se">\</span>
<a id="__codelineno-45-62" name="__codelineno-45-62" href="#__codelineno-45-62"></a><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-45-63" name="__codelineno-45-63" href="#__codelineno-45-63"></a><span class="c1">## Update the credentials for SRX2 as these are different.</span>
<a id="__codelineno-45-64" name="__codelineno-45-64" href="#__codelineno-45-64"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;pyclass&quot;</span>
<a id="__codelineno-45-65" name="__codelineno-45-65" href="#__codelineno-45-65"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="n">srx2_pass</span>
<a id="__codelineno-45-66" name="__codelineno-45-66" href="#__codelineno-45-66"></a><span class="c1">## Use the telnet_login() method to connect to the SRX</span>
<a id="__codelineno-45-67" name="__codelineno-45-67" href="#__codelineno-45-67"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">telnet_login</span><span class="p">()</span>
<a id="__codelineno-45-68" name="__codelineno-45-68" href="#__codelineno-45-68"></a><span class="n">redispatch</span><span class="p">(</span><span class="n">net_connect</span><span class="p">,</span> <span class="n">device_type</span><span class="o">=</span><span class="s2">&quot;juniper_junos&quot;</span><span class="p">)</span>
<a id="__codelineno-45-69" name="__codelineno-45-69" href="#__codelineno-45-69"></a><span class="nb">print</span><span class="p">(</span><span class="n">net_connect</span><span class="o">.</span><span class="n">find_prompt</span><span class="p">())</span>
<a id="__codelineno-45-70" name="__codelineno-45-70" href="#__codelineno-45-70"></a>
<a id="__codelineno-45-71" name="__codelineno-45-71" href="#__codelineno-45-71"></a><span class="c1">## Now we could do something on the SRX</span>
<a id="__codelineno-45-72" name="__codelineno-45-72" href="#__codelineno-45-72"></a><span class="n">output</span> <span class="o">=</span> <span class="n">net_connect</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="s2">&quot;show version&quot;</span><span class="p">)</span>
<a id="__codelineno-45-73" name="__codelineno-45-73" href="#__codelineno-45-73"></a><span class="nb">print</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
<a id="__codelineno-45-74" name="__codelineno-45-74" href="#__codelineno-45-74"></a>
<a id="__codelineno-45-75" name="__codelineno-45-75" href="#__codelineno-45-75"></a><span class="n">net_connect</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</code></pre></div>
<h4 id="output-from-execution-of-this-code-slightly-cleaned-up">Output from execution of this code (slightly cleaned-up).</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>$<span class="w"> </span>python<span class="w"> </span>term_server.py
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>Enter<span class="w"> </span>password<span class="w"> </span>of<span class="w"> </span>s300:
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a>Enter<span class="w"> </span>the<span class="w"> </span>terminal<span class="w"> </span>server<span class="w"> </span>password:
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a>Enter<span class="w"> </span>SRX2<span class="w"> </span>password:
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a>
<a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a>sf-dc-sw1#
<a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a>
<a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a>twb-dc-termsrv&gt;
<a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a>twb-dc-termsrv#
<a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a>
<a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a>pyclass@srx2&gt;
<a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a>
<a id="__codelineno-46-13" name="__codelineno-46-13" href="#__codelineno-46-13"></a>Hostname:<span class="w"> </span>srx2
<a id="__codelineno-46-14" name="__codelineno-46-14" href="#__codelineno-46-14"></a>Model:<span class="w"> </span>srx110h2-va
<a id="__codelineno-46-15" name="__codelineno-46-15" href="#__codelineno-46-15"></a>JUNOS<span class="w"> </span>Software<span class="w"> </span>Release<span class="w"> </span><span class="o">[]</span>
</code></pre></div>
<hr />
<h3 id="traditional-network-management">Traditional Network Management</h3>
<p>With traditional networking, you can only manage network devices one at a time using SSH to the command line. This process is time-consuming, labor-intensive, and prone to human error. While this can work well in smaller networks, it does not work well in a large enterprise and does not also scale very well.
Traditional Network Monitoring Systems (NMS) such as SolarWinds, CiscoWorks, and Cisco Prime Infrastructure have also been available for a long time and use protocols such as SNMP and Netflow to gather information reports on the state of the network. While SNMP uses MIB and OID to collects useful data and can also be used to push configuration to devices, it does not build for real-time programmatic access and has limited functionality.
SNMP also has security concerns and can be complex to implement and operate. These are the main challenges of traditional Networks:</p>
<ul>
<li>Scalability Issues</li>
<li>Management Complexity</li>
<li>Slower Issue Resolution</li>
</ul>
<h3 id="automate-the-network-provisioning">Automate the network provisioning</h3>
<ul>
<li>Perform network planning, designing, and implementation</li>
<li>Supply virtual and physical networking devices or nodes</li>
<li>Implement security compliance and improve the overall network security</li>
<li>Simplify network management</li>
<li>Automate reporting, monitoring, and management of enterprise network</li>
<li>Analyze real-time network data to deliver insights</li>
<li>To better understand what network automation is, let’s look at how it works.</li>
</ul>
<h3 id="how-does-network-automation-work">How Does Network Automation Work?</h3>
<p>Generally, you automate networks with programmable logic on the devices’ command line interface (CLI). This way, the nodes can dynamically perform automated actions. These include network filtering, port controlling, bandwidth control, etc.
However, this method isn’t scalable. It also limits the scope of automation as it needs to be done on a per device basis. As a result, most modern networking infrastructures offer a centralized control panel. This panel will connect all the networking devices within the network.
Network administrators or programmers can create programmable logic and scripts. This way, they can control and automate your network. To do this, they can use the devices’ CLI or graphical UI. Alternatively, admins can rely on external systems or automation tools. After that, programmers can execute these scripts using the CLI or API.
Automation tools and services can help you automate several everyday networking tasks. For instance, they can help you analyze and predict bandwidth usage. Automation will also help you with network inventory management and dynamic provisioning. You’ll also be able to backup and change configurations across your business. Finally, network automation tools can help you remotely control access points and ports.</p>
<h3 id="benefits-of-network-automation">Benefits of Network Automation</h3>
<p>Generally, growing companies can’t manage and scale their infrastructure easily. But network automation helps you overcome this challenge. In turn, you’ll also improve your overall efficiency. Let’s take a more detailed look at the benefits of network automation:</p>
<ul>
<li>Eliminates manual tasks. This results in an increase in accuracy and efficiency. Standardizes processes. This reduces the risks of network outages and scalability issues. Monitors your network constantly and generates reports. This can help you better control your network infrastructure.</li>
<li>Makes changes faster and builds a reliable network.</li>
<li>Gives you network visibility and ease of control through a centralized dashboard.</li>
<li>Tracks, analyzes, and resolves issues.</li>
<li>Reduces human errors. This increases network resilience.</li>
<li>Reduces the workload on IT staff. This can help organizations save capital costs.</li>
</ul>
<h3 id="best-practices-for-network-automation">Best Practices for Network Automation</h3>
<p>Network automation tools and services use software abstraction. They connect networking devices and nodes. This way, they give you an easy-to-control network management workflow. Here are some best practices you can adopt to get the most out of network automation:</p>
<h3 id="decide-what-to-automate">Decide What to Automate</h3>
<p>Often, companies aren’t attentive when selecting a network automation vendor. This is a huge mistake. Before you start choosing a vendor, know what you need to automate in your network. This will help you narrow down your search list for the vendor. It’ll also help you save costs.</p>
<h3 id="aim-for-low-code-network-automation">Aim for Low-Code Network Automation</h3>
<p>The industry faces several challenges with the network automation skill gap. In fact, programming experience is lacking. Network scripting also has a steep learning curve. Did you know that only 3% of networking teams know how to perform automation tasks? So, choosing a service that allows low-code network automation could prove to be very beneficial. This will eliminate the dependency associated with certain employees. Low-code network automation will also limit human errors.</p>
<h3 id="adopt-a-vendor-agnostic-approach">Adopt a Vendor-Agnostic Approach</h3>
<p>Often, network architectures include solutions from many vendors. This means you should design a vendor-agnostic network orchestration. This mitigates the overhead associated with fixing errors or making changes to your network. Alternatively, you can find and deploy automation tools that support different vendors. This way, you can implement a true single view multi-vendor support.</p>
<h3 id="integrate-with-other-tools-and-services">Integrate with Other Tools and Services</h3>
<p>It’s important to choose a service that integrates directly with external systems. For instance, integration with ELK and ServiceNow helps with log management and incident reporting. If your service has broad API integration support, you can streamline your business operations. You’ll be more flexible and you’ll use external tools to fit your needs.</p>
<h3 id="automate-configuration">Automate Configuration</h3>
<p>If you automate configuration, you’ll ensure consistency across all your applications. You’ll also mitigate human errors. This enables your network admins to convert the configuration into software code. In turn, you can build a single source of truth for all configurations across your organization.</p>
<hr />
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3 id="what-is-an-sdn">What is an SDN?</h3>
<p>A software-defined network (SDN) is a networking technology. It uses software systems to design, deploy, manage, and configure enterprise networks. SDN allows organizations to intelligently and centrally control their entire network. That includes network peripherals and bandwidth usage.</p>
<h3 id="what-is-a-cli">What is a CLI?</h3>
<p>Command Line Interface (CLI) is a text-based user interface. You can use it to develop, run, manage, and control software systems, tools, and applications. You also can use CLI to automate your network. To do this, you deploy scripts and automation tasks.</p>
<h3 id="what-is-an-api">What is an API?</h3>
<p>An application programming interface (API) establishes communication between different systems. An API is an intermediary that allows software systems to request and access information. You can access several network automation tools and services using APIs.</p>
<h3 id="what-is-network-orchestration">What is network orchestration?</h3>
<p>Network orchestration is a process where a network controller helps achieve business objectives. The controller may design the network. It’ll also set up network peripherals and devices, applications, and services. You can leverage network orchestration to automate enterprise networks.</p>
<h3 id="what-industries-can-benefit-the-most-from-network-automation">What industries can benefit the most from network automation?</h3>
<p>Network automation is domain and industry-agnostic. This means it’s applicable in all industries that require networking. These include Information Technology, manufacturing, service-based industries, banking, and cloud services.</p>
<h3 id="what-are-the-top-companies-using-python">What are the top companies using Python?</h3>
<p>There are quite a lot of world-famous companies that prefer Python to other languages. They include Google, Netflix, Spotify, Uber, Dropbox, Instacart, Instagram, Stripe, Disqus, and Mozilla.</p>
<h3 id="where-is-python-used">Where is Python used?</h3>
<p>According to the Python Developer Survey 2019 by JetBrains, Python is mainly used for data analysis, website development, machine learning, DevOps, automation scripts, system administration, web parsers, crawlers, and scrapers, testing, educational purposes, software prototyping, and network programming.</p>
<h3 id="how-stable-is-python">How stable is Python?</h3>
<p>Very stable. Famous apps written in Python like Pinterest, Disqus, and Instagram prove that. These apps use Python to handle high loads and ensure fast and efficient app performance.</p>
<h3 id="what-is-network-automation">What Is Network Automation?</h3>
<p>Network automation is the process of using software to manage network resources and services. You can achieve network automation through a software-defined network (SDN). An SDN introduces network virtualization capabilities. This makes it easy to automate and control the networks.
Network automation also can help you configure, test, deploy, and operate components in your network. Since enterprise networks are becoming more complex, network automation tools are gaining traction. Here are some of the things these tools can do:</p>
<h3 id="scripts-vs-modules">Scripts vs Modules</h3>
<p>In computing, the word script is used to refer to a file containing a logical sequence of orders or a batch processing file. This is usually a simple program, stored in a plain text file. Scripts are always processed by some kind of interpreter, which is responsible for executing each command sequentially. A plain text file containing Python code that is intended to be directly executed by the user is usually called script, which is an informal term that means top-level program file. On the other hand, a plain text file, which contains Python code that is designed to be imported and used from another Python file, is called module. So, the main difference between a module and a script is that modules are meant to be imported, while scripts are made to be directly executed.
In either case, the important thing is to know how to run the Python code you write into your modules and scripts.</p>
<h3 id="whats-the-python-interpreter">What’s the Python Interpreter?</h3>
<p>Python is an excellent programming language that allows you to be productive in a wide variety of fields.
Python is also a piece of software called an interpreter. The interpreter is the program you’ll need to run Python code and scripts. Technically, the interpreter is a layer of software that works between your program and your computer hardware to get your code running.
Depending on the Python implementation you use, the interpreter can be:</p>
<ul>
<li>A program written in C, like CPython, which is the core implementation of the language</li>
<li>A program written in Java, like Jython</li>
<li>A program written in Python itself, like PyPy</li>
<li>A program implemented in .NET, like IronPython</li>
</ul>
<p>Whatever form the interpreter takes, the code you write will always be run by this program. Therefore, the first condition to be able to run Python scripts is to have the interpreter correctly installed on your system.</p>
<p>The interpreter is able to run Python code in two different ways:</p>
<ul>
<li>As a script or module</li>
<li>As a piece of code typed into an interactive session</li>
</ul>
<h3 id="how-does-the-interpreter-work">How Does the Interpreter Work?</h3>
<p>When you try to run Python scripts, a multi-step process begins. In this process the interpreter will:</p>
<ul>
<li>Process the statements of your script in a sequential fashion</li>
<li>Compile the source code to an intermediate format known as bytecode</li>
<li>This bytecode is a translation of the code into a lower-level language that’s platform-independent. Its purpose is to optimize code execution. So, the next time the interpreter runs your code, it’ll bypass this compilation step.</li>
<li>Strictly speaking, this code optimization is only for modules (imported files), not for executable scripts.</li>
<li>Ship off the code for execution</li>
</ul>
<p>At this point, something known as a Python Virtual Machine (PVM) comes into action. The PVM is the runtime engine of Python. It is a cycle that iterates over the instructions of your bytecode to run them one by one.</p>
<p>The PVM is not an isolated component of Python. It’s just part of the Python system you’ve installed on your machine. Technically, the PVM is the last step of what is called the Python interpreter. The whole process to run Python scripts is known as the Python Execution Model.</p>
<h3 id="how-to-run-python-scripts-from-a-file-manager">How to Run Python Scripts From a File Manager</h3>
<p>Running a script by double-clicking on its icon in a file manager is another possible way to run your Python scripts. This option may not be widely used in the development stage, but it may be used when you release your code for production.</p>
<p>In order to be able to run your scripts with a double-click, you must satisfy some conditions that will depend on your operating system. Windows, for example, associates the extensions .py and .pyw with the programs python.exe and pythonw.exe respectively. This allows you to run your scripts by double-clicking on them.</p>
<p>When you have a script with a command-line interface, it is likely that you only see the flash of a black window on your screen. To avoid this annoying situation, you can add a statement like input<code>('Press Enter to Continue...')</code> at the end of the script. This way, the program will stop until you press Enter.</p>
<p>This trick has its drawbacks, though. For example, if your script has any error, the execution will be aborted before reaching the input() statement, and you still won’t be able to see the result.</p>
<p>On Unix-like systems, you’ll probably be able to run your scripts by double-clicking on them in your file manager. To achieve this, your script must have execution permissions, and you’ll need to use the shebang trick you’ve already seen. Likewise, you may not see any results on screen when it comes to command-line interface scripts.</p>
<p>Because the execution of scripts through double-click has several limitations and depends on many factors (such as the operating system, the file manager, execution permissions, file associations), it is recommended that you see it as a viable option for scripts already debugged and ready to go into production.</p>


  




                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["search.suggest", "search.highlight", "search.share", "navigation.instant", "navigation.tracking", "navigation.top"], "search": "../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.51d95adb.min.js"></script>
      
    
  </body>
</html>